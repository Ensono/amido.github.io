<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-getting_started/azure-container-app/azure-container-apps" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Azure Container Apps | Ensono Stacks</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://stacks.ensono.com/docs/getting_started/azure-container-app/azure-container-apps"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Azure Container Apps | Ensono Stacks"><meta data-rh="true" name="description" content="How to get started with Azure Container Apps in Stacks"><meta data-rh="true" property="og:description" content="How to get started with Azure Container Apps in Stacks"><meta data-rh="true" name="keywords" content="Infrastructure,azure,Azure Container Apps,stacks,ensono"><link data-rh="true" rel="icon" href="/img/icons/favicon.ico"><link data-rh="true" rel="canonical" href="https://stacks.ensono.com/docs/getting_started/azure-container-app/azure-container-apps"><link data-rh="true" rel="alternate" href="https://stacks.ensono.com/docs/getting_started/azure-container-app/azure-container-apps" hreflang="en"><link data-rh="true" rel="alternate" href="https://stacks.ensono.com/docs/getting_started/azure-container-app/azure-container-apps" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-EKCQBC5CSJ","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EKCQBC5CSJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-EKCQBC5CSJ",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.9e4f6049.css">
<script src="/assets/js/runtime~main.7c757aa4.js" defer="defer"></script>
<script src="/assets/js/main.abf292fa.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icons/ensono-logo.svg" alt="Ensono Stacks Logo" class="custom-navbar-logo-class themedComponent_mlkZ themedComponent--light_NVdE" height="36" width="150"><img src="/img/icons/ensono-logo.svg" alt="Ensono Stacks Logo" class="custom-navbar-logo-class themedComponent_mlkZ themedComponent--dark_xIcU" height="36" width="150"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a href="https://github.com/Ensono/amido.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://www.ensono.com/company/lets-connect/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Connect<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs">What is Ensono Stacks?</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/nx/nx_stacks">User Interface</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/workloads">Backend Services</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/workloads/azure/data/intro_data_azure">Data Platform</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/infrastructure/introduction">Infrastructure</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrastructure/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/infrastructure/azure/core_infrastructure">Azure</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrastructure/azure/core_infrastructure">Core Infrastructure</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/infrastructure/azure/pipelines/azure_devops">Pipelines</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/getting_started/azure-container-app/azure-container-apps">Getting started with Azure Container Apps</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/infrastructure/aws/core_infrastructure_aws">Amazon Web Services</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/testing/testing_overview">QA</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Infrastructure</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Azure</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Getting started with Azure Container Apps</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Azure Container Apps</h1></header><p>Azure Container Apps(ACA) is a fully managed serverless container service for building and deploying modern apps at scale - without managing infrastructure. It is builds on top of Kubernetes, offering a fully managed experience for deploying containerized applications without requiring direct access to Kubernetes APIs or cluster management.</p>
<p>Common uses of Azure Container Apps include:</p>
<ul>
<li>Deploying API endpoints</li>
<li>Hosting background processing jobs</li>
<li>Handling event-driven processing</li>
<li>Running microservices</li>
</ul>
<p><img decoding="async" loading="lazy" alt="aca-usecase.png" src="/assets/images/aca-usecase-f867030eb1aa5d3e43f119091c39ea97.png" width="2416" height="907" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="azure-container-apps-components--infrastucture-overview">Azure Container Apps Components / Infrastucture Overview<a href="#azure-container-apps-components--infrastucture-overview" class="hash-link" aria-label="Direct link to Azure Container Apps Components / Infrastucture Overview" title="Direct link to Azure Container Apps Components / Infrastucture Overview">​</a></h2>
<p>Azure Container Apps consists of two primary components:</p>
<ul>
<li>
<p>Container Apps Environment</p>
<ul>
<li>This component allows you to specify the infrastructure for deploying your container app.</li>
<li>A secure boundary around one or more container apps and jobs.</li>
<li>Defines shared settings for networking, logging, and other services.</li>
</ul>
</li>
<li>
<p>Container App</p>
<ul>
<li>A Container App hosts a single, independent microservice and includes its desired state configuration.</li>
<li>Utilizes containers from public registries (e.g., Docker Hub) or private registries (e.g., Azure Container Registry).</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="aca-components.png" src="/assets/images/aca-components-2343d062a3e31be5d05b23dc189227f4.png" width="1512" height="962" class="img_ev3q"></p>
<ul>
<li>
<p>More settings</p>
<ul>
<li><strong>Ingress</strong>: Azure Container Apps supports both HTTP and HTTPS ingress. The ingress controls how external traffic reaches your container apps and allows you to configure custom domains, SSL/TLS certificates, authentication, and authorization.</li>
<li><strong>Networking rules</strong>: You can define networking rules to manage how your application communicates internally and with the outside world. This includes securing connections and integrating with private networks for enhanced security.</li>
<li><strong>Persistent storage</strong>: Azure Container Apps allows you to attach Azure Storage accounts as volumes in your containers, enabling your application to access persistent storage for data that needs to be preserved across container instances or revisions.</li>
<li><strong>Secrets management</strong>: If your application uses secrets, you can inject them into your containers either from Azure Key Vault or defined directly in the Container App settings. This ensures secure storage and access to sensitive information.</li>
<li><strong>Managed identity</strong>: You can assign a managed identity to your container app, allowing it to securely access other Azure services without the need for explicit credentials.</li>
<li><strong>Logging and monitoring</strong>: Azure Container Apps integrates with Azure Monitor for logging and monitoring. You can configure log collection and set up alerts to gain insights into your application&#x27;s performance and health.</li>
<li><strong>Health probes</strong>: You can define liveness and readiness probes to monitor the health of your containers. These probes help ensure that your application is functioning correctly and can handle incoming requests.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="azure-container-options-comparison">Azure Container Options Comparison<a href="#azure-container-options-comparison" class="hash-link" aria-label="Direct link to Azure Container Options Comparison" title="Direct link to Azure Container Options Comparison">​</a></h2>
<table><thead><tr><th>Feature/Service</th><th style="text-align:center">Azure Container Apps</th><th style="text-align:center">Azure App Service</th><th style="text-align:center">Azure Container Instances</th><th style="text-align:center">Azure Kubernetes Service</th><th style="text-align:center">Azure Functions</th></tr></thead><tbody><tr><td>Primary Use Case</td><td style="text-align:center">Serverless microservices and jobs</td><td style="text-align:center">Web applications and APIs</td><td style="text-align:center">Single pod of containers on demand</td><td style="text-align:center">Full Kubernetes orchestration</td><td style="text-align:center">Event-driven functions</td></tr><tr><td>Kubernetes-based</td><td style="text-align:center">Yes (abstracted)</td><td style="text-align:center">No</td><td style="text-align:center">No</td><td style="text-align:center">Yes (full access)</td><td style="text-align:center">No</td></tr><tr><td>Serverless</td><td style="text-align:center">Yes</td><td style="text-align:center">Partially</td><td style="text-align:center">Yes</td><td style="text-align:center">No</td><td style="text-align:center">Yes</td></tr><tr><td>Event-driven scaling</td><td style="text-align:center">Yes</td><td style="text-align:center">Limited</td><td style="text-align:center">No</td><td style="text-align:center">Manual/custom</td><td style="text-align:center">Yes</td></tr><tr><td>Direct K8s API access</td><td style="text-align:center">No</td><td style="text-align:center">No</td><td style="text-align:center">No</td><td style="text-align:center">Yes</td><td style="text-align:center">No</td></tr><tr><td>Microservices support</td><td style="text-align:center">Strong</td><td style="text-align:center">Limited</td><td style="text-align:center">Limited</td><td style="text-align:center">Strong</td><td style="text-align:center">Limited</td></tr><tr><td>Web-optimized</td><td style="text-align:center">Yes</td><td style="text-align:center">Yes</td><td style="text-align:center">No</td><td style="text-align:center">Can be configured</td><td style="text-align:center">Partially</td></tr><tr><td>Container support</td><td style="text-align:center">Yes</td><td style="text-align:center">Yes</td><td style="text-align:center">Yes</td><td style="text-align:center">Yes</td><td style="text-align:center">Yes (as option)</td></tr><tr><td>Managed service</td><td style="text-align:center">Fully managed</td><td style="text-align:center">Fully managed</td><td style="text-align:center">Fully managed</td><td style="text-align:center">Managed control plane</td><td style="text-align:center">Fully managed</td></tr><tr><td>Best for</td><td style="text-align:center">General-purpose containers, microservices</td><td style="text-align:center">Web apps, APIs</td><td style="text-align:center">Low-level container instances</td><td style="text-align:center">Teams requiring full K8s control</td><td style="text-align:center">FaaS, event-driven apps</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="notes">Notes<a href="#notes" class="hash-link" aria-label="Direct link to Notes" title="Direct link to Notes">​</a></h3>
<ul>
<li>This table provides a high-level comparison of the main features and use cases for each Azure container service.</li>
<li>For detailed information on each service, refer to the official Azure documentation.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cicd-strategy">CICD Strategy<a href="#cicd-strategy" class="hash-link" aria-label="Direct link to CICD Strategy" title="Direct link to CICD Strategy">​</a></h2>
<p>The deployment strategy can be segmented into two parts:</p>
<ul>
<li>Infrastructure Deployment</li>
<li>App Deployment</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="option-1---container-app-enviornment-and-container-app-deployment-via-infrastructure-pipeline">Option 1 - Container App Enviornment and Container App deployment via Infrastructure pipeline<a href="#option-1---container-app-enviornment-and-container-app-deployment-via-infrastructure-pipeline" class="hash-link" aria-label="Direct link to Option 1 - Container App Enviornment and Container App deployment via Infrastructure pipeline" title="Direct link to Option 1 - Container App Enviornment and Container App deployment via Infrastructure pipeline">​</a></h3>
<p>This approach involves deploying both the Container App Environment and Container App through the infrastructure pipeline, with application code deployed to the Container App via a separate application deployment pipeline.</p>
<p><img decoding="async" loading="lazy" alt="cicd-option1.png" src="/assets/images/cicd-option1-7e175556020409e782524f639c7b51a5.png" width="2196" height="861" class="img_ev3q"></p>
<p>STACKS-INFRASTRUCTURE-ACA
├── .github              # GitHub-specific configurations and workflows
├── cicd
│   └── build            # CI/CD build configurations
│       ├── azDevOps     # Azure DevOps specific build configurations
│       ├── config       # Configuration files for the build process
│       ├── scripts      # Build-related scripts
│       └── taskctl      # TaskCTL configurations for the build process
├── deploy
│   └── azure            # Terraform configurations for the Core Infra deployment including Container App
├── src
│   ├── app              # Application source code
│   └── aca-vars.yml     # Variables specific to Azure Container App
│   └── deploy-aca.yml   # Deployment configuration for Azure Container App
├── .gitattributes       # Git attributes file
├── .gitignore           # Git ignore file
├── LICENSE              # License file for the project
├── README.md            # Main readme file with project documentation
└── taskctl.yaml         # TaskCTL configuration file</p>
<p>Pro&#x27;s</p>
<ul>
<li>Centralized infrastructure code management.</li>
</ul>
<p>Con&#x27;s</p>
<ul>
<li>Requires initial Container App provisioning with a public image, creating an unnecessary first revision</li>
<li>Potential discrepancies between infrastructure-defined image tags and application deployment updates</li>
<li>Additional maintenance overhead to keep infrastructure and application deployment configurations in sync</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="option-2---container-app-environment-deployment-via-infrastructure-pipeline-container-app-deployment-via-application-pipeline">Option 2 - Container App Environment deployment via Infrastructure pipeline, Container App deployment via Application pipeline<a href="#option-2---container-app-environment-deployment-via-infrastructure-pipeline-container-app-deployment-via-application-pipeline" class="hash-link" aria-label="Direct link to Option 2 - Container App Environment deployment via Infrastructure pipeline, Container App deployment via Application pipeline" title="Direct link to Option 2 - Container App Environment deployment via Infrastructure pipeline, Container App deployment via Application pipeline">​</a></h3>
<p>This approach separates the deployment of the Container App Environment and the Container App itself:</p>
<ul>
<li>
<p>Infrastructure Deployment Pipeline:</p>
<ul>
<li>Deploys Container App Environment and other required resources.</li>
<li>Does not provision the Container App at this stage.</li>
</ul>
</li>
<li>
<p>Application Deployment Pipeline:</p>
<ul>
<li>Builds application code and publishes the image to the container registry.</li>
<li>Provisions the Container App using Terraform with the newly created image.</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="cicd-option2.png" src="/assets/images/cicd-option2-f65c2e90f9f55d51ee0bd1c6f85ac152.png" width="1880" height="953" class="img_ev3q"></p>
<p>STACKS-INFRASTRUCTURE-ACA
├── .github              # GitHub-specific configurations and workflows
├── cicd
│   └── build            # CI/CD build configurations
│       ├── azDevOps     # Azure DevOps specific build configurations
│       ├── config       # Configuration files for the build process
│       ├── scripts      # Build-related scripts
│       └── taskctl      # TaskCTL configurations for the build process
├── deploy
│   └── azure            # Terraform configurations for the Core Infra deployment excluding Container App
├── src
│   ├── app              # Application source code
│   └── terraform        # Terraform configurations for the application (Container App)
│   └── aca-vars.yml     # Variables specific to Azure Container App
│   └── deploy-aca.yml   # Deployment configuration for Azure Container App
├── .gitattributes       # Git attributes file
├── .gitignore           # Git ignore file
├── LICENSE              # License file for the project
├── README.md            # Main readme file with project documentation
└── taskctl.yaml         # TaskCTL configuration file</p>
<p>Pro&#x27;s</p>
<ul>
<li>Eliminates the need for initial Container App provisioning with a public image.</li>
<li>Avoids unnecessary revisions in the Container App.</li>
<li>Facilitates easier maintenance and version control of container images.</li>
<li>Provides loose coupling in Container App deployment.</li>
<li>Allows for more precise control over image versions used in deployments.</li>
<li>Aligns infrastructure provisioning more closely with application lifecycle.</li>
<li>Enables application-specific configurations: Each individual Container App can have different liveness and readiness probes, scaling rules, and ingress settings (such as ingress port) that are more closely aligned with application requirements. This allows each Container App team to define these settings independently in their application deployment pipeline, providing greater flexibility and customization.</li>
</ul>
<p>Con&#x27;s</p>
<ul>
<li>Requires separate management of Terraform code for each individual Container App</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="recommendation">Recommendation<a href="#recommendation" class="hash-link" aria-label="Direct link to Recommendation" title="Direct link to Recommendation">​</a></h3>
<p>We recommend implementing Option 2: Container App Environment deployment via Infrastructure pipeline and Container App deployment via Application pipeline. This approach provides the flexibility to manage infrastructure and application deployments separately while optimizing the deployment process for Azure Container Apps.
This recommendation will result in a more streamlined deployment process, eliminating unnecessary Container App revisions and allowing for tighter integration between application builds and deployments.</p>
<p>However, it&#x27;s important to note that this approach will require additional effort in managing separate Terraform configurations for each Container App. To mitigate this challenge, we will utilize the existing Azure Container Apps Terraform module developed by Ensono, which is available <a href="https://registry.terraform.io/modules/Ensono/aca/azurerm/latest" target="_blank" rel="noopener noreferrer">here</a>.</p>
<p>This pre-built module will help reduce duplication and ease maintenance across multiple Container Apps, standardizing our Container App deployments and reducing the overhead of managing individual Terraform configurations.
By leveraging this existing module in our recommended approach, we can achieve a more efficient and manageable deployment strategy for our Azure Container Apps while maintaining the flexibility to evolve both infrastructure and applications independently.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aca-vs-aks-a-comparative-analysis">ACA vs AKS: A Comparative Analysis<a href="#aca-vs-aks-a-comparative-analysis" class="hash-link" aria-label="Direct link to ACA vs AKS: A Comparative Analysis" title="Direct link to ACA vs AKS: A Comparative Analysis">​</a></h2>
<table><thead><tr><th>Feature</th><th>Azure Kubernetes Service (AKS)<br>Infrastructure focus, higher flexibility</th><th>Azure Container Apps (ACA)<br>Application focus, infrastructure abstraction</th></tr></thead><tbody><tr><td>Primary Offering</td><td>Azure-managed Kubernetes environment with comprehensive API access and granular cluster management, utilizing a node-centric pricing structure</td><td>Fully-managed serverless abstraction on top of Kubernetes infrastructure, purpose built for managing and scaling event-driven microservices with a consumption-based pricing model</td></tr><tr><td>Key Strengths</td><td>• Aligned with upstream Kubernetes, offering managed control plane<br>• Operations flexibility with advanced customization<br>• Ideal for teams with Kubernetes expertise</td><td>• Platform-as-a-Service experience with serverless scale<br>• Enhanced developer efficiency through reduced operational complexity<br>• Optimized for Linux-based, general-purpose stateless container deployments</td></tr><tr><td>Deployment Approach</td><td>• Admins set up node-based AKS clusters via Azure Portal, CLI, or IaC<br>• Developers use Kubernetes manifests or Helm for container deployment in isolated namespaces</td><td>• Direct container deployment as Container Apps through Azure Portal, CLI, or IaC<br>• No Kubernetes manifest knowledge required<br>• Apps grouped in shared environments, similar to Kubernetes namespaces</td></tr><tr><td>Open Source Tools</td><td>• Extendable with various cluster add-ons (e.g., Dapr, KEDA, Service Mesh)<br>• Supports custom component installation using Kubernetes manifests</td><td>Includes opinionated platform capabilities powered by CNCF projects including Dapr, KEDA and Envoy which are fully platform-managed and supported<br>• Envoy: managed ingress and traffic splitting<br>• KEDA: managed, event-driven autoscale<br>• Dapr: codified best practices for microservices</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-path-azure-container-apps-to-azure-kubernetes-service">Upgrade Path: Azure Container Apps to Azure Kubernetes Service<a href="#upgrade-path-azure-container-apps-to-azure-kubernetes-service" class="hash-link" aria-label="Direct link to Upgrade Path: Azure Container Apps to Azure Kubernetes Service" title="Direct link to Upgrade Path: Azure Container Apps to Azure Kubernetes Service">​</a></h2>
<p>High-level upgrade path from Azure Container Apps to Azure Kubernetes Service.</p>
<p>Application code and container images remain largely unchanged in this migration. The primary focus is on the infrastructure and deployment mechanisms, not the application internals. Minor adjustments to application configurations may be needed to align with Kubernetes-specific environment variables or service discovery methods.</p>
<ol>
<li>
<p>Assessment and Planning</p>
<ul>
<li>Review current microservices architecture and ACA-specific features in use</li>
<li>Identify necessary Kubernetes features for AKS migration</li>
<li>Plan changes for CI/CD pipelines</li>
</ul>
</li>
<li>
<p>Infrastructure Preparation</p>
<ul>
<li>Set up AKS cluster (using Terraform or Azure CLI)</li>
<li>Configure networking (VNets, subnets)</li>
<li>Set up or integrate existing Azure Container Registry (ACR)</li>
</ul>
</li>
<li>
<p>Kubernetes Manifest Creation / Service migration</p>
<ul>
<li>Begin with non-critical services</li>
<li>Convert ACA configurations to Kubernetes manifests (Deployments, Services, Ingress)</li>
<li>Set up Dapr on AKS if previously used in ACA</li>
<li>Translate ACA scaling rules to Kubernetes Horizontal Pod Autoscaler (HPA)</li>
</ul>
</li>
<li>
<p>CI/CD Pipeline Updates</p>
<ul>
<li>Update pipelines to deploy to AKS</li>
<li>Implement Kubernetes-specific deployment strategies (rolling updates, blue-green deployments)</li>
</ul>
</li>
<li>
<p>Testing</p>
<ul>
<li>Thoroughly test each migrated service in AKS environment</li>
<li>Perform load testing to ensure performance</li>
</ul>
</li>
<li>
<p>Gradual Transition and Decommissioning</p>
<ul>
<li>Decommission ACA environment after successful migration and stabilization</li>
</ul>
</li>
</ol>
<p>Additional points to consider during upgrade/ migration:-</p>
<ul>
<li>Networking and Service Discovery</li>
<li>State and Data Migration</li>
<li>Monitoring and Logging</li>
<li>Security</li>
<li>Secrets Management</li>
</ul>
<p><strong>Note:</strong> This upgrade path is a high-level guide. The actual process may vary based on specific implementation details and requirements. Thorough planning, gradual migration, and extensive testing at each step are crucial for a successful transition.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/infrastructure/azure/pipelines/azure_devops"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Azure DevOps</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/infrastructure/aws/core_infrastructure_aws"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Core Infrastructure</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#azure-container-apps-components--infrastucture-overview" class="table-of-contents__link toc-highlight">Azure Container Apps Components / Infrastucture Overview</a></li><li><a href="#azure-container-options-comparison" class="table-of-contents__link toc-highlight">Azure Container Options Comparison</a><ul><li><a href="#notes" class="table-of-contents__link toc-highlight">Notes</a></li></ul></li><li><a href="#cicd-strategy" class="table-of-contents__link toc-highlight">CICD Strategy</a><ul><li><a href="#option-1---container-app-enviornment-and-container-app-deployment-via-infrastructure-pipeline" class="table-of-contents__link toc-highlight">Option 1 - Container App Enviornment and Container App deployment via Infrastructure pipeline</a></li><li><a href="#option-2---container-app-environment-deployment-via-infrastructure-pipeline-container-app-deployment-via-application-pipeline" class="table-of-contents__link toc-highlight">Option 2 - Container App Environment deployment via Infrastructure pipeline, Container App deployment via Application pipeline</a></li><li><a href="#recommendation" class="table-of-contents__link toc-highlight">Recommendation</a></li></ul></li><li><a href="#aca-vs-aks-a-comparative-analysis" class="table-of-contents__link toc-highlight">ACA vs AKS: A Comparative Analysis</a></li><li><a href="#upgrade-path-azure-container-apps-to-azure-kubernetes-service" class="table-of-contents__link toc-highlight">Upgrade Path: Azure Container Apps to Azure Kubernetes Service</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">About Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ensono.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ensono<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.ensono.com/company/lets-connect/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get in touch<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.ensono.com/company/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers at Ensono<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Open Source</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Ensono/amido.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div></div></footer><div class="footer__legal_UQWj"><div><img src="/img/icons/ensono-logo.svg" alt="Ensono logo"></div><div><span>Privacy Policy © <!-- -->2024<!-- --> Ensono, LLC. All rights reserved</span></div><div><a href="https://www.linkedin.com/company/ensono" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24"><title>LinkedIn</title><path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"></path></svg></a></div></div></div>
</body>
</html>