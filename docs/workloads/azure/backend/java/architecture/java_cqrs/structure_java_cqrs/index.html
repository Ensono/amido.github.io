<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EKCQBC5CSJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-EKCQBC5CSJ",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Amido Stacks " href="/opensearch.xml"><title data-react-helmet="true">Java Rest API Structure | Amido Stacks </title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Java Rest API Structure | Amido Stacks "><meta data-react-helmet="true" name="description" content="Java Rest API Structure"><meta data-react-helmet="true" property="og:description" content="Java Rest API Structure"><meta data-react-helmet="true" name="keywords" content="java,rest,api,project,overview,configuration,logging,application insights,swagger,authorisation,settings,cqrs"><meta data-react-helmet="true" property="og:url" content="https://stacks.amido.com/docs/workloads/azure/backend/java/architecture/java_cqrs/structure_java_cqrs"><link data-react-helmet="true" rel="shortcut icon" href="/img/thumbnail_stacks.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://stacks.amido.com/docs/workloads/azure/backend/java/architecture/java_cqrs/structure_java_cqrs"><link rel="stylesheet" href="/styles.e81a5f08.css">
<link rel="preload" href="/styles.f4107b64.js" as="script">
<link rel="preload" href="/runtime~main.a911597e.js" as="script">
<link rel="preload" href="/main.be5c8e65.js" as="script">
<link rel="preload" href="/2.d92087f0.js" as="script">
<link rel="preload" href="/3.3ba510cb.js" as="script">
<link rel="preload" href="/135.3c9e5b3d.js" as="script">
<link rel="preload" href="/134.3089e12f.js" as="script">
<link rel="preload" href="/935f2afb.0357684e.js" as="script">
<link rel="preload" href="/17896441.38f3bfb8.js" as="script">
<link rel="preload" href="/edf446e8.ca59318d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo_wide.svg" alt="Amido Stacks Logo"><strong class="navbar__title"></strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://github.com/amido/amido.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo_wide.svg" alt="Amido Stacks Logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/amido/amido.github.io" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Learn about Stacks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">About Stacks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contributions">New Contributions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/code_of_conduct">Code of conduct</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Workloads</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/workloads">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Azure</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Frontend Web Applications</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Client Side Rendering</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/CSR/ide_setup_csr">IDE Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/CSR/stacks_monorepo_csr">Stacks Monorepo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/CSR/state_management_csr">State Management Patterns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/CSR/getting_started_csr">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/CSR/api_definition_csr">Api Definition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/CSR/logging_and_instrumentation_csr">Logging and Instrumentation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/CSR/infrastructure_csr">Infrastructure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/CSR/pipeline_csr">Pipeline</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/CSR/browser_support_csr">Browser Support</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Server  Side Rendering</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/SSR/ide_setup_ssr">IDE Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/SSR/stacks_monorepo_ssr">Stacks Monorepo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/SSR/state_management_ssr">State Management Patterns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/SSR/getting_started_ssr">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/SSR/contentful_integration">CMS - Contentful Integration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/SSR/identity">Identity using Auth0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/SSR/api_definition_ssr">Api Definition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/SSR/logging_and_instrumentation_ssr">Logging and Instrumentation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/SSR/server_side_cache">Server Side Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/SSR/infrastructure_ssr">Infrastructure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/SSR/pipeline_ssr">Pipeline</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/frontend/SSR/browser_support_ssr">Browser Support</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Backend Services</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Java Spring Boot REST API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/intro_java">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/requirements_java">Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/setting_up_cosmos_db_locally_java">Cosmos DB Emulator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/quickstart_java">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/scaffolding_java">Using the Maven Scaffolding</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/ide_java">IDE guidelines</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Architecture</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Web API Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/java/architecture/web_api/architecture_java">Architecture overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/java/architecture/web_api/structure_java">Project structure</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Web API with CQRS and Events Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/architecture/java_cqrs/architecture_java_cqrs">Architecture overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/workloads/azure/backend/java/architecture/java_cqrs/structure_java_cqrs">Project structure</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/infrastructure_java">Infrastructure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/pipeline_java">Pipeline</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Testing The API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/java/testing/testing_java">Pre-deployment tests and reports</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/java/testing/execute_serenity_api_tests">REST API testing with Serenity</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/java/testing/execute_karate_api_tests">REST API testing with Karate</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">.NET Core</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/introduction_netcore">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Quickstart</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">REST API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/quickstart/web_api/create_project_netcore">Create the project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/quickstart/web_api/build_and_run_project_netcore">Build &amp; Run the Project</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">REST API with CQRS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore">Create the project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/configure_project_netcore">Configure the project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/build_and_run_project_netcore">Build &amp; Run the Project</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">REST API with CQRS and Events</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs_events/create_project_netcore">Create the project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs_events/configure_project_netcore">Configure the project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs_events/build_and_run_project_netcore">Build &amp; Run the Project</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/architecture/architecture_overview_netcore">Architecture Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/architecture/repository_overview_netcore">Repository Structure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/architecture/project_structure_netcore">Solution Structure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/architecture/data_storage_cosmosdb_netcore">Data Storage - CosmosDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/architecture/operations_events_exceptions_correlation_netcore">Operations, Events, Exceptions and Correlation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/architecture/nuget_dependencies">NuGet Dependencies</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Swagger Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/architecture/swagger_configuration/configure_swagger_netcore">Swagger</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/architecture/swagger_configuration/configure_swagger_ui_netcore">Swagger UI</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/requirements_netcore">Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/testing/functional_testing_netcore">Testing the API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/infrastructure_netcore">Infrastructure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/pipeline_netcore">Pipeline</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/logging_netcore">Logging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/azure/backend/netcore/security_netcore">Security</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Google Cloud Platform</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/gcp/workloads_gcp_readme">Workloads on GCP</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Amazon Web Services</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workloads/aws/workloads_aws_readme">Workloads on AWS</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Infrastructure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/infrastructure/introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Azure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/infrastructure/azure/core_infrastructure">Core Infrastructure</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Pipelines</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/infrastructure/azure/pipelines/azure_devops">Azure DevOps</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Quality Assurance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/testing/cli_testing_frameworks">Stacks Testing Frameworks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/testing/testing_java_serenity_bdd">Java - Serenity BDD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/testing/testing_dotnet_selenium">C# - Selenium .NET</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/testing/cypress_functional_testing">Cypress - Functional Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/testing/testcafe_functional_testing">TestCafe - Functional Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/testing/testing_static_analysis">Static Code Analysis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/testing/visual_analysis">Automated UI Visual Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/testing/contract_testing_pact">API Contract Testing With Pact</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/testing/accessibility_testing">Automated Accessibility Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/testing/performance_testing_gatling">Gatling Performance Testing</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Java Rest API Structure</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="project-structure"></a>Project structure<a aria-hidden="true" tabindex="-1" class="hash-link" href="#project-structure" title="Direct link to heading">#</a></h2><p>The outline structure of the project is as below.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ java</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚         â””â”€â”€ com</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚             â””â”€â”€ xxAMIDOxx</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                 â””â”€â”€ xxSTACKSxx</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”œâ”€â”€ core</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â”œâ”€â”€ api</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â”‚         â”œâ”€â”€ dto</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â”‚         â”œâ”€â”€ exception</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â”‚         â””â”€â”€ filter</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â”œâ”€â”€ azure</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â”‚         â””â”€â”€ servicebus</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â”œâ”€â”€ cqrs</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â”‚         â”œâ”€â”€ command</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â”‚         â””â”€â”€ handler</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â”œâ”€â”€ messaging</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â”‚         â”œâ”€â”€ event</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â”‚         â””â”€â”€ publish</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â”‚         â””â”€â”€ operations</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                     â””â”€â”€ menu</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”œâ”€â”€ api</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”‚         â”œâ”€â”€ v1</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”‚         â”‚         â”œâ”€â”€ dto</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”‚         â”‚         â”‚         â”œâ”€â”€ request</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”‚         â”‚         â”‚         â””â”€â”€ response</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”‚         â”‚         â””â”€â”€ impl</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”‚         â””â”€â”€ v2</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”‚             â””â”€â”€ impl</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”œâ”€â”€ commands</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”œâ”€â”€ domain</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”œâ”€â”€ events</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”œâ”€â”€ exception</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”œâ”€â”€ handlers</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”œâ”€â”€ mappers</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â”œâ”€â”€ repository</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                         â””â”€â”€ service</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â”‚                             â””â”€â”€ impl</span></div><div class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ resources</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="overview-of-comxxamidoxxxxstacksxxcore-packages"></a>Overview of <code>com.xxAMIDOxx.xxSTACKSxx.core</code> packages<a aria-hidden="true" tabindex="-1" class="hash-link" href="#overview-of-comxxamidoxxxxstacksxxcore-packages" title="Direct link to heading">#</a></h2><p>The <code>core.api</code> package contains the request filter definitions (responsible for generating a
correlation ID for every request), and the main Exception
class from which all other custom exceptions in the code extend.</p><p>The <code>core.azure.servicebus</code> package contains definitions to sent messages to the Azure service bus, if configured. It is disabled by default.</p><p>The <code>core.cqrs</code> package contains the basic <code>Command</code> and <code>CommandHandler</code> definitions that individual commands extend.</p><p>Package <code>core.messaging</code> contains the <code>ApplicationEvent</code> definition and default event publisher (used when servicebus is disable in configuration).</p><p>Package <code>core.operations</code> contains the abstract <code>OperationContext</code> class that stores operation code and correlation ID.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="overview-of-comxxamidoxxxxstacksxxmenu-packages"></a>Overview of <code>com.xxAMIDOxx.xxSTACKSxx.menu</code> packages<a aria-hidden="true" tabindex="-1" class="hash-link" href="#overview-of-comxxamidoxxxxstacksxxmenu-packages" title="Direct link to heading">#</a></h2><p>Package <code>menu.api.v1</code> contains the <code>Controller</code> definitions, both as interface definitions where the
<a href="https://swagger.io/" target="_blank" rel="noopener noreferrer">Swagger</a> (OpenAPI) details are defined, and as concrete implementations under the <code>impl</code> package.</p><p>Package <code>menu.api.v1.dto</code> contains request and response object definitions for the different endpoints.</p><p>Package <code>menu.api</code> additionally contains the <code>OpenApiConfiguration</code> class, which is responsible for
defining what is displayed by the Swagger UI page for the application.</p><p>Package <code>menu.commands</code> contains the <code>Command</code> classes specific to particular API update operations, e.g. <code>CreateMenuCommand</code>, <code>DeleteItemCommand</code> etc.</p><p>Package <code>menu.domain</code> contains the data object defintions for the Menu model: <code>Menu</code>, <code>Category</code> and <code>Item</code>.</p><p>Package <code>menu.events</code> contains the <code>Event</code> definitions for specific API update events.</p><p>Package <code>menu.exception</code> contains the custom <code>Exception</code> definitions for the application.</p><p>Package <code>menu.handlers</code> contains the <code>Handler</code> definitions that coordinate command execution and the sending of events.</p><p>Package <code>menu.repository</code> contains the <code>MenuRepository</code> interface definition, which defines repository operations and
extends <code>CosmosRepository</code>, itself an extension of the Spring <code>PagingAndSortingRepository</code>.</p><p>Package <code>menu.service</code> contains the interface <code>MenuQueryService</code> and its implementation, <code>CosmosMenuQueryService</code> which relies
on the CosmosRepository to fulfil the service&#x27;s actions.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="configuration"></a>Configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a></h2><p>The <code>resources</code> directory contains an <code>application.yaml</code> file, and this is responsible for the project configuration.
This information includes Azure Cosmos DB and Application Insights configuration, which are passed as a environment variables during the deployment phase.</p><p>Below is snippet of the <code>application.yml</code> configuring the Swagger and the Spring Boot specifications:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spring</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">application</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> xxSTACKSxx</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">api</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rest</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">detection-strategy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> annotated</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">server</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Note: ONLY use this if you&#x27;re behind a trusted Reverse Proxy, such as Application Gateway.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># If you host this app directly then users can easily inject headers.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">forward-headers-strategy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> framework</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#######</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9000</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">management</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">endpoints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">web</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">base-path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">springdoc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">swagger-ui</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">disable-swagger-default-url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">display-operation-id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /swagger/index.html</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">packagesToScan</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> com.xxAMIDOxx.xxSTACKSxx.menu.api</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">api-docs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">groups</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /swagger/oas</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">json</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="application-logging"></a>Application logging<a aria-hidden="true" tabindex="-1" class="hash-link" href="#application-logging" title="Direct link to heading">#</a></h2><p>Java provides a simple logging abstraction with most of required logging features used by an application.
Whenever logging is required in the application, the class will instantiate an instance of Logger from slf4j to use as the logger object. The Logger instances are created by Logging Factory registered by each application and will abstract the logging library from the application logging.</p><p>In the application, we have customized how the logs are created. There is a <code>logback-spring.xml</code> file in the <code>resources</code> directory
to add the customized features, as below:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-xml codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appender</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ch.qos.logback.core.ConsoleAppender</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">console</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">encoder</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">%d{dd-MM-yyyy HH:mm:ss.SSS} %magenta([%thread]) | %X{CorrelationId} |</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        %highlight(%-5level) %logger{36}.%M - %msg%n</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">encoder</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appender</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appender</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">com.microsoft.applicationinsights.logback.ApplicationInsightsAppender</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">aiAppender</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appender</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">root</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">level</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">debug</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appender-ref</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ref</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">console</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">root</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">root</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">level</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">info</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appender-ref</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ref</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">aiAppender</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">root</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="application-insights"></a>Application Insights<a aria-hidden="true" tabindex="-1" class="hash-link" href="#application-insights" title="Direct link to heading">#</a></h2><p>Azure Application Insights is the chosen logging platform, and will aggregate all logs generated by all services.</p><p>Integrating with Application Insights ensures all logs generated (and filtered) are forwarded to the logging platform
for correlation and potential future investigation. Below is the section that needs to be added the <code>application.yml</code> to
enable it to interact with Application Insights:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">application-insights</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">instrumentation-key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> xxxxxx</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span></div></div></div></div></div><p>We also need to add the SDK dependencies to the <code>pom.xml</code> file definitions:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-xml codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.microsoft.azure</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">applicationinsights-spring-boot-starter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${applicationinsights.version}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">runtime</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.microsoft.azure</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">applicationinsights-logging-logback</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${applicationinsights.version}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">runtime</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></div></div></div></div><p>Additionally, an <code>AI-Agent.xml</code> definition is included in the <code>resource</code> directory to enable deeper data insights:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-xml codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ApplicationInsightsAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Instrumentation</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">BuiltIn</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Logging</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">threshold</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">info</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">BuiltIn</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Instrumentation</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ApplicationInsightsAgent</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></div></div></div></div><p>Any events published by the application will have a correlation id, to enable tracking of requests, responses and any exceptions.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="authorization-with-auth0"></a>Authorization with Auth0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#authorization-with-auth0" title="Direct link to heading">#</a></h2><p>The API endpoints are protected by an OAuth 2.0 provider.
The OAuth 2.0 client is configured as an <a href="https://auth0.com/" target="_blank" rel="noopener noreferrer">Auth0</a> instance. All requests must include a <code>Bearer</code> token in the <code>Authorization</code> header.</p><p>There is an <code>auth.properties</code> file which configures the authorization definitions required to use
the application with in conjunction with Auth0 to secure access to endpoints with JWT. If this property is set:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">auth.isEnabled=true</span></div></div></div></div></div><p>then a valid JWT is required to be sent with the header in the request to the API endpoint.</p><p>Other Auth0 properties defined in this file, and used by spring security for validating the token are:</p><ul><li><code>auth0.issuer</code> - the issuer of the JWT Token. Typically, this is your Auth0 domain prefixed by <code>https://</code></li><li><code>auth0.apiAudience</code> - the unique identifier for your API, <code>https://.../api/v2/</code></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="testing-auth0-jwt-security-using-swagger-ui"></a>Testing Auth0 JWT security using Swagger UI<a aria-hidden="true" tabindex="-1" class="hash-link" href="#testing-auth0-jwt-security-using-swagger-ui" title="Direct link to heading">#</a></h3><ul><li><p>Open the swagger UI page at <a href="http://localhost:9000/swagger/index.html" target="_blank" rel="noopener noreferrer">http://localhost:9000/swagger/index.html</a> once
the application is up and running locally.</p></li><li><p>Send a POST request via the <code>Auth</code> endpoint on the Swagger UI page for your configured API definition, containing the following payload:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;client_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;REDACTED&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;client_secret&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;REDACTED&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;audience&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://REDACTED/api/v2/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;grant_type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;client_credentials&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div></li><li><p>You should receive a response containing a valid token something like</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;access_token&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;eyJhbGciOiJSU...wd6WXw&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;expires_in&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">86400</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;token_type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bearer&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div></li><li><p>Click on the <code>Authorise</code> button on the Swagger UI page and paste the token.</p></li><li><p>Endpoints should now work <em>only</em> with a valid token.</p></li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/workloads/azure/backend/java/architecture/java_cqrs/architecture_java_cqrs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Java Rest API Architecture</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/workloads/azure/backend/java/infrastructure_java"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Java REST API - Azure Infrastructure Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-structure" class="table-of-contents__link">Project structure</a></li><li><a href="#overview-of-comxxamidoxxxxstacksxxcore-packages" class="table-of-contents__link">Overview of <code>com.xxAMIDOxx.xxSTACKSxx.core</code> packages</a></li><li><a href="#overview-of-comxxamidoxxxxstacksxxmenu-packages" class="table-of-contents__link">Overview of <code>com.xxAMIDOxx.xxSTACKSxx.menu</code> packages</a></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li><li><a href="#application-logging" class="table-of-contents__link">Application logging</a></li><li><a href="#application-insights" class="table-of-contents__link">Application Insights</a></li><li><a href="#authorization-with-auth0" class="table-of-contents__link">Authorization with Auth0</a><ul><li><a href="#testing-auth0-jwt-security-using-swagger-ui" class="table-of-contents__link">Testing Auth0 JWT security using Swagger UI</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">About Us</h4><ul class="footer__items"><li class="footer__item"><a href="https://amido.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Amido</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Open Source</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/amido/amido.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2021 Amido Ltd</div></div></div></footer></div>
<script src="/styles.f4107b64.js"></script>
<script src="/runtime~main.a911597e.js"></script>
<script src="/main.be5c8e65.js"></script>
<script src="/2.d92087f0.js"></script>
<script src="/3.3ba510cb.js"></script>
<script src="/135.3c9e5b3d.js"></script>
<script src="/134.3089e12f.js"></script>
<script src="/935f2afb.0357684e.js"></script>
<script src="/17896441.38f3bfb8.js"></script>
<script src="/edf446e8.ca59318d.js"></script>
</body>
</html>