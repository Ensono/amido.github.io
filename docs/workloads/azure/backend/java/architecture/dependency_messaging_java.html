<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-EKCQBC5CSJ","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EKCQBC5CSJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-EKCQBC5CSJ",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Amido Stacks " href="/opensearch.xml"><title data-react-helmet="true">Stacks Core Messaging module | Amido Stacks </title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://stacks.amido.com/docs/workloads/azure/backend/java/architecture/dependency_messaging_java"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Stacks Core Messaging module | Amido Stacks "><meta data-react-helmet="true" name="description" content="Module Overview"><meta data-react-helmet="true" property="og:description" content="Module Overview"><meta data-react-helmet="true" name="keywords" content="java,maven,module,modularity,archetype,messaging"><link data-react-helmet="true" rel="shortcut icon" href="/img/thumbnail_stacks.png"><link data-react-helmet="true" rel="canonical" href="https://stacks.amido.com/docs/workloads/azure/backend/java/architecture/dependency_messaging_java"><link data-react-helmet="true" rel="alternate" href="https://stacks.amido.com/docs/workloads/azure/backend/java/architecture/dependency_messaging_java" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://stacks.amido.com/docs/workloads/azure/backend/java/architecture/dependency_messaging_java" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.27fc1a60.css">
<link rel="preload" href="/assets/js/runtime~main.9dfe6b11.js" as="script">
<link rel="preload" href="/assets/js/main.4a5e3300.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1boX">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_wide.svg" alt="Amido Stacks Logo" class="themedImage_3oOy themedImage--light_3ouy"><img src="/img/logo_wide.svg" alt="Amido Stacks Logo" class="themedImage_3oOy themedImage--dark_3zJb"></div><b class="navbar__title"></b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a href="https://github.com/amido/amido.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_37dV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_2iFN toggle_2ySP toggleDisabled_1pbd"><div class="toggleTrack_1bVV" role="button" tabindex="-1"><div class="toggleTrackCheck_3GBG"><span class="toggleIcon_KBSf">ðŸŒœ</span></div><div class="toggleTrackX_1jae"><span class="toggleIcon_KBSf">ðŸŒž</span></div><div class="toggleTrackThumb_2_QT"></div></div><input type="checkbox" class="toggleScreenReader_32DE" aria-label="Switch between dark and light mode"></div><div class="searchBox_xXbB"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_3zOJ"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_DkI0" type="button"></button><aside class="docSidebarContainer_G8MK"><div class="sidebar_1tWv"><nav class="menu thin-scrollbar menu_1Iah"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Learn about Stacks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Workloads</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/workloads">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Azure</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Frontend Web Applications</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Backend Services</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/architecture-overview">Architecture Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Java Spring Boot REST API</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/intro_java">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/requirements_java">Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/setting_up_cosmos_db_locally_java">Cosmos DB Emulator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/quickstart_java">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/scaffolding_java">Using the Maven Scaffolding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/ide_java">IDE guidelines</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Architecture</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/architecture/maven_modules_java">Modularity Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-6 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Modules</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/architecture/dependency_parent_java">Parent module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/architecture/dependency_commons_java">Core Commons module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/architecture/dependency_api_java">Core API module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/architecture/dependency_cqrs_java">Core CQRS module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/workloads/azure/backend/java/architecture/dependency_messaging_java">Core Messaging module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/architecture/dependency_cosmos_java">Azure CosmosDB module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/architecture/dependency_servicebus_java">Azure Service Bus module</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-6 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Web API Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-6 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Web API with CQRS and Events Architecture</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/infrastructure_java">Infrastructure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/java/pipeline_java">Pipeline</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Testing The API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">.NET Core</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Google Cloud Platform</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Amazon Web Services</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Infrastructure</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Quality Assurance</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Stacks CLI</a></li></ul></nav></div></aside><main class="docMainContainer_3Zec"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col"><div class="docItemContainer_37q2"><article><div class="theme-doc-markdown markdown"><header><h1>Stacks Core Messaging module</h1></header><h2 class="anchor anchorWithStickyNavbar_1iPN" id="module-overview">Module Overview<a aria-hidden="true" class="hash-link" href="#module-overview" title="Direct link to heading">â€‹</a></h2><p>This module provides basic functionality to handle event management in an application. It contains the
base class for <code>ApplicationEvent</code> instances as showcased in the <a href="https://github.com/amido/stacks-java-cqrs-events/" target="_blank" rel="noopener noreferrer">Stacks workflow with CQRS and Events</a>
as well as base classes to construct publishers and listeners. There is also a decorated publisher class
that also initialises a listener.</p><h2 class="anchor anchorWithStickyNavbar_1iPN" id="module-structure">Module Structure<a aria-hidden="true" class="hash-link" href="#module-structure" title="Direct link to heading">â€‹</a></h2><p>In the following diagram, you can see all the relevant files of this module. Be aware, pulling from
the repository will have some extra files that are not relevant to the logic but required to build and
deploy.</p><h3 class="anchor anchorWithStickyNavbar_1iPN" id="project-structure">Project structure<a aria-hidden="true" class="hash-link" href="#project-structure" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB"><pre tabindex="0" class="prism-code language-undefined codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token plain">java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\_.mvn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">: |_settings.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|_archetype.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|_pom.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\_src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">: \_main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:   \_java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:    \_com.amido.stacks.core.messaging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:     \_event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:      |_ApplicationEvent.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:     \_listen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:      |_ApplicationEventListener.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:      |_DefaultEventListeener.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:     \_publish</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:      |_ApplicationEventPublisher.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:      |_ApplicationEventPublisherWithListener.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:      |_DefaultEventPublisher.java</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_1iPN" id="how-to-use">How to use<a aria-hidden="true" class="hash-link" href="#how-to-use" title="Direct link to heading">â€‹</a></h2><p>There are four ways to integrate this module into your project:</p><ul><li>Use it as a <a href="#use-it-as-a-dependency">dependency</a></li><li>Create a localized solution using <a href="#localized-solution-using-maven-archetypes">Maven Archetypes artifacts</a> available in our Artifactory repo</li><li>Clone this repo, <a href="#building-the-module-locally-from-this-repository">locally build</a> and use it as a Maven dependency</li><li>Clone this repo, create a <a href="#creating-an-archetype-from-this-repository">custom archetype</a> and then use it as a Maven dependency</li></ul><h3 class="anchor anchorWithStickyNavbar_1iPN" id="use-it-as-a-dependency">Use it as a dependency<a aria-hidden="true" class="hash-link" href="#use-it-as-a-dependency" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_1iPN" id="maven">Maven<a aria-hidden="true" class="hash-link" href="#maven" title="Direct link to heading">â€‹</a></h4><p>In the <code>dependencies</code> section of your application&#x27;s <code>pom.xml</code> add:</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB xml"><pre tabindex="0" class="prism-code language-xml codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.amido.stacks.modules</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">stacks-core-messaging</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.0.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div><p>Then you can do a <code>./mvnw clean compile</code> to fetch it; after that, you can use it like any other dependency.</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB bash"><pre tabindex="0" class="prism-code language-bash codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token plain">./mvnw clean compile</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_1iPN" id="others">Others<a aria-hidden="true" class="hash-link" href="#others" title="Direct link to heading">â€‹</a></h4><p>Use it as you&#x27;d use any dependency in your build tool.</p><h3 class="anchor anchorWithStickyNavbar_1iPN" id="localized-solution-using-maven-archetypes">Localized solution using Maven Archetypes<a aria-hidden="true" class="hash-link" href="#localized-solution-using-maven-archetypes" title="Direct link to heading">â€‹</a></h3><p>If you wish to customise the module and use your organisation&#x27;s namespaces instead of Amido&#x27;s. You can create a
<a href="https://maven.apache.org/archetype/index.html" target="_blank" rel="noopener noreferrer">Maven archetype</a>. Archetype is Maven&#x27;s tool for
scaffolding and offers lots of extra functionality. We suggest spending some time looking into them. We use Archetype to create a template and enable you to adopt this module under your organisation&#x27;s namespace.
To use the deployed archetypes:</p><ol><li><p>Make and move to a new folder</p></li><li><p>Then run</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB bash"><pre tabindex="0" class="prism-code language-bash codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token plain">mvn archetype:generate </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DarchetypeGroupId</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;com.amido.stacks.modules&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DarchetypeArtifactId</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;stacks-core-messaging-archetype&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DarchetypeVersion</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;&lt;archetype version&gt;&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DgroupId</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;&lt;your-group-id&gt;&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DartifactId</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;&lt;your-artifact-id&gt;&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Dversion</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;&lt;your-version&gt;&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Dpackage</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;&lt;package-name&gt;&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div><ul><li><code>&lt;your-group-id&gt;</code> is a placeholder for your group ID</li><li><code>&lt;your-artifact-id&gt;</code> is a placeholder for your artefact ID</li><li><code>&lt;your-version&gt;</code> is a placeholder for your version</li><li><code>&lt;package-name&gt;</code> is a placeholder for the root package name and structure. It should start with your <code>groupdId</code> and continue with the name of the root package.</li></ul><blockquote><p>For example, using <code>-DgroupId=com.test</code> and <code>-Dpackage=com.test.stacks</code> will instruct Maven to place the code in <code>src/main/java/com/test/stacks</code> and update all the relevant references accordingly (i.e. <code>imports</code>)</p></blockquote></li><li><p>Go to the <code>pom.xml</code> file of the project you&#x27;ll be using this module in and add it as a <a href="#use-it-as-a-dependency">dependency</a></p></li></ol><p><strong>Example</strong>: Using <code>-DgroupId=com.test</code> and <code>-Dpackage=com.test.stacks</code> will instruct Maven to place the code in <code>src/main/java/com/test/stacks</code> and update all the relevant references accordingly (i.e. <code>imports</code>)</p><blockquote><p><strong>If you previously had used this module under different namespace (i.e. the default <code>com.amido.stacks.core-messaging</code>):</strong></p><p>Maven ONLY updates the imports for the module you generated. Any references in other projects will remain to the previous namespace.</p><p>You will need to</p><ul><li>Update them manually</li><li>Re-create the relevant <code>import</code> statements to use the new-made module instead</li><li>If you plan to use this with Amido Stacks, include your namespace in the <code>@ComponentScan</code> annotation of the <code>Application</code> class.</li></ul></blockquote><h3 class="anchor anchorWithStickyNavbar_1iPN" id="building-the-module-locally-from-this-repository">Building the module locally from this repository<a aria-hidden="true" class="hash-link" href="#building-the-module-locally-from-this-repository" title="Direct link to heading">â€‹</a></h3><p>To build the module locally:</p><ol><li>Clone this repo</li><li>Navigate to the <code>java</code> folder</li><li>run <code>./mvnw clean install</code> to install the module locally.</li><li>Add it as any other <a href="#use-it-as-a-dependency">dependency</a></li></ol><h3 class="anchor anchorWithStickyNavbar_1iPN" id="creating-an-archetype-from-this-repository">Creating an Archetype from this repository<a aria-hidden="true" class="hash-link" href="#creating-an-archetype-from-this-repository" title="Direct link to heading">â€‹</a></h3><p>If you wish to customise the module and use your organisation&#x27;s namespaces instead of Amido&#x27;s. You can create a
<a href="https://maven.apache.org/archetype/index.html" target="_blank" rel="noopener noreferrer">Maven archetype</a>. Archetype is Maven&#x27;s tool for
scaffolding and offers lots of extra functionality. We suggest spending some time looking into them. We use Archetype to create a template and enable you to adopt this module under your organisation&#x27;s namespace.
To use the deployed archetypes:
To build, install and use the archetype follow these steps:</p><ol><li><p>Clone this repo</p></li><li><p>Navigate to the <code>&lt;directory you cloned the project into&gt;/java</code> in the terminal</p></li><li><p>Then issue the following Maven commands, using the included wrapper:</p><ol><li><p>Create the archetype from the existing code</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB bash"><pre tabindex="0" class="prism-code language-bash codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token plain">./mvnw archetype:create-from-project -DpropertyFile</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;./archetype.properties&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div></li><li><p>Navigate to the folder it was created in</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB bash"><pre tabindex="0" class="prism-code language-bash codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> target/generated-sources/archetype</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div></li><li><p>Install the archetype locally</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB bash"><pre tabindex="0" class="prism-code language-bash codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">mvnw </span><span class="token function" style="color:#d73a49">install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div></li></ol></li><li><p>Make and navigate to a directory in which you&#x27;d like to create the localized project, ideally outside this project&#x27;s root folder</p></li><li><p>To create the project, use the command below:</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB bash"><pre tabindex="0" class="prism-code language-bash codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">path-to-mvn-executable</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/mvnw archetype:generate </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DarchetypeGroupId</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;com.amido&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DarchetypeArtifactId</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;stacks-core-messaging&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DarchetypeVersion</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;1.0.0-SNAPSHOT&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DgroupId</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;&lt;your-group-id&gt;&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DartifactId</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;&lt;your-artifact-id&gt;&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Dversion</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;&lt;your-version&gt;&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Dpackage</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;&lt;package-name&gt;&#x27;</span><span class="token plain">`</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div><ol><li><code>&lt;your-group-id&gt;</code> is a placeholder for your group ID</li><li><code>&lt;your-artifact-id&gt;</code> is a placeholder for your artefact ID</li><li><code>&lt;your-version&gt;</code> is a placeholder for your version</li><li><code>&lt;package-name&gt;</code> is a placeholder for the root package name and structure. It should start with your <code>groupdId</code> and continue with the name of the root package.<blockquote><p>For example, using <code>-DgroupId=com.test</code> and <code>-Dpackage=com.test.stacks</code> will instruct Maven to place the code in <code>src/main/java/com/test/stacks</code> and update all the relevant references accordingly (i.e. <code>imports</code>)</p></blockquote></li></ol></li><li><p>Go to the <code>pom.xml</code> file of the project you&#x27;ll be using this module in and add it as a <a href="#use-it-as-a-dependency">dependency</a></p></li></ol><p><strong>Example</strong>: Using <code>-DgroupId=com.test</code> and <code>-Dpackage=com.test.stacks</code> will instruct Maven to place the code in <code>src/main/java/com/test/stacks</code> and update all the relevant references accordingly (i.e. <code>imports</code>)</p><blockquote><p><strong>If you previously had used this module under different namespace (i.e. the default <code>com.amido.stacks.core-messaging</code>):</strong></p><p>Maven ONLY updates the imports for the module you generated. Any references in other projects will remain to the previous namespace.</p><p>You will need to</p><ul><li>Update them manually</li><li>Re-create the relevant <code>import</code> statements to use the new-made module instead</li><li>If you plan to use this with Amido Stacks, include your namespace in the <code>@ComponentScan</code> annotation of the <code>Application</code> class.</li></ul></blockquote><h2 class="anchor anchorWithStickyNavbar_1iPN" id="accessing-artifactory">Accessing Artifactory<a aria-hidden="true" class="hash-link" href="#accessing-artifactory" title="Direct link to heading">â€‹</a></h2><p>Our artefacts and archetypes get hosted on an Artifactory repository. To use either, from a project
other than Amido Stacks, you will need to add that repo in your <code>pom.xml</code>:</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB xml"><pre tabindex="0" class="prism-code language-xml codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">repositories</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">repository</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">snapshots</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">snapshots</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">default-maven-virtual</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">url</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">https://amidostacks.jfrog.io/artifactory/default-maven-virtual</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">url</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">repository</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">repositories</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div><p>Alternatively, you can also add this configuration as a profile in your Maven&#x27;s <code>settings.xml</code> file
in the <code>.m2</code> folder in your home directory (any OS):</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB xml"><pre tabindex="0" class="prism-code language-xml codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">profiles</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">profile</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">repositories</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">repository</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">snapshots</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">snapshots</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">default-maven-virtual</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">url</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">https://amidostacks.jfrog.io/artifactory/default-maven-virtual</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">url</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">repository</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">repositories</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">artifactory</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">profile</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">profiles</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">activeProfiles</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">activeProfile</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">artifactory</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">activeProfile</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">activeProfiles</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/workloads/azure/backend/java/architecture/dependency_cqrs_java"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Core CQRS module</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/workloads/azure/backend/java/architecture/dependency_cosmos_java"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Azure CosmosDB module<!-- --> Â»</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">About Us</div><ul class="footer__items"><li class="footer__item"><a href="https://amido.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Amido<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_37dV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Open Source</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/amido/amido.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Amido Ltd</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9dfe6b11.js"></script>
<script src="/assets/js/main.4a5e3300.js"></script>
</body>
</html>