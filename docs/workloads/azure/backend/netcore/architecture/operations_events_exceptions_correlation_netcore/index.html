<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<link rel="search" type="application/opensearchdescription+xml" title="Amido Stacks " href="/stacks/opensearch.xml"><title data-react-helmet="true">Operations, Events, Exceptions and Correlation | Amido Stacks </title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Operations, Events, Exceptions and Correlation | Amido Stacks "><meta data-react-helmet="true" name="description" content="This document purpose is to clarify concepts implemented in the platform in order to facilitate the monitoring and management of services deployed to the platform."><meta data-react-helmet="true" property="og:description" content="This document purpose is to clarify concepts implemented in the platform in order to facilitate the monitoring and management of services deployed to the platform."><meta data-react-helmet="true" property="og:url" content="https://amido.github.io/stacks/docs/workloads/azure/backend/netcore/architecture/operations_events_exceptions_correlation_netcore"><link data-react-helmet="true" rel="shortcut icon" href="/stacks/img/thumbnail_stacks.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://amido.github.io/stacks/docs/workloads/azure/backend/netcore/architecture/operations_events_exceptions_correlation_netcore"><link rel="stylesheet" href="/stacks/styles.356b3251.css">
<link rel="preload" href="/stacks/styles.d30bcdc1.js" as="script">
<link rel="preload" href="/stacks/runtime~main.1af6f950.js" as="script">
<link rel="preload" href="/stacks/main.09c0159d.js" as="script">
<link rel="preload" href="/stacks/1.fb567102.js" as="script">
<link rel="preload" href="/stacks/2.55fe16f1.js" as="script">
<link rel="preload" href="/stacks/3.3daf453a.js" as="script">
<link rel="preload" href="/stacks/1be78505.58a6d2b9.js" as="script">
<link rel="preload" href="/stacks/118.379b2dd0.js" as="script">
<link rel="preload" href="/stacks/935f2afb.c80e8b07.js" as="script">
<link rel="preload" href="/stacks/17896441.a68934af.js" as="script">
<link rel="preload" href="/stacks/3134a503.2e4081a8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/stacks/"><img class="navbar__logo" src="/stacks/img/logo.svg" alt="Amido Stacks Logo"><strong class="navbar__title"></strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/stacks/docs/">Docs</a><a href="https://github.com/amido/stacks" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/stacks/"><img class="navbar__logo" src="/stacks/img/logo.svg" alt="Amido Stacks Logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/stacks/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/amido/stacks" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Learn about Stacks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/">About Stacks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/contributions">New Contributions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/code_of_conduct">Code of conduct</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Workloads</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/workloads/workloads">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Azure</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Frontend Web Applications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/ide_node_js">IDE Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/monorepo">Stacks Monorepo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/state-management">State Management Patterns</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Client Side Rendering</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/cli_webapp_frameworks_csr">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/api_definition_crs">Api Definition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/logging_node_js_crs">Logging and Instrumentation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/infrastructure_csr">Infrastructure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/pipeline_csr">Pipeline</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Server  Side Rendering</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/cli_webapp_frameworks_ssr">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/cms">CMS - Contentfull Integration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/identity">Identity using Auth0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/api_definition">Api Definition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/logging_node_js">Logging and Instrumentation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/server_side_cache">Server Side Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/infrastructure_ssr">Infrastructure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/pipeline_ssr">Pipeline</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/frontend/browser_support">Browser Support</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Backend Services</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Java Spring Boot REST API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/intro_java">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/requirements_java">Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/setting_up_cosmos_db_locally_java">Cosmos DB Emulator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/quickstart_java">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/scaffolding_java">Using the Scaffolding CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/ide_java">IDE guidelines</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/architecture_java">Architecture overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/structure_java">Project structure</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/infrastructure_java">Infrastructure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/pipeline_java">Pipeline</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Testing The API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/testing_java">Pre-deployment tests and reports</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/execute_serenity_api_tests">REST API testing with Serenity</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java/execute_karate_api_tests">REST API testing with Karate</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Java Spring Boot REST API with CQRS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/intro_java_cqrs">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/requirements_java_cqrs">Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/setting_up_cosmos_db_locally_java_cqrs">Cosmos DB Emulator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/quickstart_java_cqrs">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/scaffolding_java_cqrs">Using the Scaffolding CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/ide_java_cqrs">IDE guidelines</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/architecture_java_cqrs">Architecture overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/structure_java_cqrs">Project structure</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/infrastructure_java_cqrs">Infrastructure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/pipeline_java_cqrs">Pipeline</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Testing The API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/testing_java_cqrs">Pre-deployment tests and Reports</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/execute_serenity_api_tests">REST API testing with Serenity</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/java_cqrs/execute_karate_api_tests">REST API testing with Karate</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">.NET Core REST API with CQRS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/workloads/azure/backend/netcore/introduction_netcore">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/netcore/quickstart/requirements_netcore">Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/netcore/quickstart/create_project_netcore">Create the project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/netcore/quickstart/configure_project_netcore">Configure the project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/netcore/quickstart/build_and_run_project_netcore">Build &amp; Run the Project</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/workloads/azure/backend/netcore/testing/functional_testing_netcore">Testing the API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/workloads/azure/backend/netcore/infrastructure_netcore">Infrastructure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/workloads/azure/backend/netcore/pipeline_netcore">Pipeline</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/workloads/azure/backend/netcore/logging_netcore">Logging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/workloads/azure/backend/netcore/security_netcore">Security</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/workloads/azure/backend/netcore/architecture/architecture_overview_netcore">Architecture Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/workloads/azure/backend/netcore/architecture/repository_overview_netcore">Repository Structure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/workloads/azure/backend/netcore/architecture/project_structure_netcore">Solution Structure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/workloads/azure/backend/netcore/architecture/data_storage_cosmosdb_netcore">Data Storage - CosmosDB</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/stacks/docs/workloads/azure/backend/netcore/architecture/operations_events_exceptions_correlation_netcore">Operations, Events, Exceptions and Correlation</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Swagger Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/netcore/architecture/swagger_configuration/configure_swagger_netcore">Swagger</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/azure/backend/netcore/architecture/swagger_configuration/configure_swagger_ui_netcore">Swagger UI</a></li></ul></li></ul></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Google Cloud Platform</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/gcp/workloads_gcp_readme">Workloads on GCP</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Amazon Web Services</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/aws/workloads_aws_readme">Workloads on AWS</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Infrastructure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/infrastructure/introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Azure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/infrastructure/azure/core_infrastructure">Core Infrastructure</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Pipelines</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/infrastructure/azure/pipelines/azure_devops">Azure DevOps</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Quality Assurance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/testing/cli_testing_frameworks">Stacks Testing Frameworks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/testing/testing_java_serenity_bdd">Java - Serenity BDD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/testing/testing_dotnet_selenium">C# - Selenium .NET</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/testing/cypress_functional_testing">Cypress - Functional Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/testing/testcafe_functional_testing">TestCafe - Functional Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/testing/testing_static_analysis">Static Code Analysis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/testing/visual_analysis">Automated UI Visual Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/testing/contract_testing_pact">API Contract Testing With Pact</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/testing/accessibility_testing">Automated Accessibility Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/testing/performance_testing_gatling">Gatling Performance Testing</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Operations, Events, Exceptions and Correlation</h1></header><div class="markdown"><p>This document purpose is to clarify concepts implemented in the platform in order to facilitate the monitoring and management of services deployed to the platform.</p><p>The entire platform will provide monitoring data via logs and metrics to the monitoring tools and requires a consistent approach across services to simplify building dashboards, report generation and alerts configuration.</p><p>Having a clear understanding of these concepts is crucial to make the platform consistent and simple for maintenance purposes.</p><br><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="triggers"></a>Triggers<a aria-hidden="true" tabindex="-1" class="hash-link" href="#triggers" title="Direct link to heading">#</a></h3><p>A trigger mechanism is required to initiate an operation. The trigger is the initiator event received from external systems or triggered internally to notify something has happened or is about to happen.</p><p>The common triggers are:</p><p><strong>HTTP Request:</strong> An HTTP request to a RESTful API endpoint is a trigger sent to the API to initiate an operation.</p><p><strong>Queue or Topic Message:</strong> A message received from a queue or topic, in form of a command or event that will trigger some processing within the application.</p><p><strong>Scheduled Job:</strong> An stand alone application or function that executes on a defined schedule to execute a task and is considered complete when the operation finishes.</p><br><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="operations"></a>Operations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#operations" title="Direct link to heading">#</a></h3><p>Everything that happens within an application happens in the context of one operation, an operation will start in response from a trigger, execute and notify its completion with an event(and a response in case of synchronous operation).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="operation-types"></a>Operation Types<a aria-hidden="true" tabindex="-1" class="hash-link" href="#operation-types" title="Direct link to heading">#</a></h4><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="commands"></a>Commands<a aria-hidden="true" tabindex="-1" class="hash-link" href="#commands" title="Direct link to heading">#</a></h5><p>An operation that modifies one or multiple resource in the application. Commands can be synchronous and may return a result(if one is required) to the caller in form of a response, or asynchronous without a return result, the outcome of the asynchronous command should always be published as an event for any outcome(successful or failed results).</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="queries"></a>Queries<a aria-hidden="true" tabindex="-1" class="hash-link" href="#queries" title="Direct link to heading">#</a></h5><p>Are operations that does not modify the resources in the application. It intend to retrieve data from the application but should also raise events in order to generate insights into user behavior for platform improvement.</p><p><strong>Example:</strong>
How many times the user make use of a feature (search invoice, page search results, and so on). Queries will probably also generate data in form of exceptions when the user does not permission to execute operations, for security, auditing and monitoring purposes.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>All Commands and Queries must raise events in order to generate enough data for observability and behavior analysis by data platform team.</p></div></div><br><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="events"></a>Events<a aria-hidden="true" tabindex="-1" class="hash-link" href="#events" title="Direct link to heading">#</a></h3><p>Application events are generated by the application to notify external services that an action has taken place. The event will notify if an operation completed successfully or failed and should contain the required context information to identify the resource changed(if any), the operation which raised the event and possibly the user id who requested it.</p><br><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="exceptions"></a>Exceptions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#exceptions" title="Direct link to heading">#</a></h3><p>Exceptions is an execution flow mechanism used to interrupt the current processing flow either because, the application or one of itâ€™s dependent components behaved unexpectedly and canâ€™t proceed, or an application logic is aware it canâ€™t proceed because doing so will/may cause issues. All exceptions raised in an application or itâ€™s dependencies are logged by the infrastructure components, so adding a log information to notify an exception has happened is not required and will make the logging redundant.</p><p>Exceptions raised by the application must be specific and uniquely identifiable across the platform and must clearly describe the problem that caused the exception. Generic exceptions should be avoided because they will first difficult to implement proper exception handling logic in the application, and also will make difficult to aggregate recurrent exception in the logging platform. Having unique exception will facilitate aggregating common issues for monitoring and alerting.</p><p>Exceptions types can be classified as Application, Infrastructure or BCL.</p><p><strong>Application:</strong> Exceptions raised by the application to interruption of an operation in case the state of a resource or the user permissions are not valid for complete the operation. These are commonly mapped to business requirements implemented as a code into the application logic.</p><p><strong>Infrastructure:</strong> Exceptions raised by base packages used to support the application, they provide useful information to the application to handle issues that it canâ€™t handle by itself. These exceptions in general are related to data access problems, messaging and communication issues implemented into these base packages. The application can either handle these exceptions and provide a custom exception specific for the application, or let the infrastructure exception propagate and provide to the user a generic error message.</p><p><strong>BCL:</strong> Are base exceptions raised by dotnet framework are commonly being propagated to the application code to notify unexpected execution of some base class library code, like failure to convert type, Invalid Operations and so on. In general these exception should handled properly in the application to prevent propagating to the user, giving them a more useful information.</p><br><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="correlation"></a>Correlation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#correlation" title="Direct link to heading">#</a></h3><p><strong>Definition:</strong> Unique identifier used to track a triggered operation and it&#x27;s chain of events and exceptions.</p><p>Usage: Every operation triggered by an event needs to be identified individually, to make this possible, we assign a CorrelationId to the operation, so in case two events trigger an operation, we could identify the chain of events and exceptions triggered by these events using each one CorrelationId.</p><p>CorrelationId can be either used for the entire flow of a process or split into CorrelationId per stage.</p><p><strong>Example:</strong></p><ul><li>CreateOrder operation is triggered by the customer at checkout of an e-commerce, this operation will raise OrderCreated</li><li>The Stock application will get the event raised by the checkout application and trigger the ReserveStock command</li></ul><p>In both cases, a single trigger raised two operations as part of a workflow, using a single correlation in both phases of this workflow would make much easier to track all events in a chain of events across different systems, on the other hand, this approach makes all events have the same CorrelationId and in a very verbose systems might get very bloated, another scenarios are:</p><ul><li>The correlationId is provided by the client that didn&#x27;t get a response on time and timed out, retrying the request using the same CorrelationId</li><li>An event might be processed by multiple handlers at same time, creating a chain of events interlaced by different handlers</li><li>The handling of the message can&#x27;t complete because of the state of the application, connectivity or other issues, re-attempting to process the event using the same CorrelationId</li></ul><p>In these scenarios, would be useful to generate one Correlation per phase.</p><p><strong>Example:</strong></p><ul><li>CreateOrder generates a correlationId and pass it to the event Raised</li><li>ReserveStock capture the original event CorrelationId and Log the transition between the old and new before handling the event with a new correlation</li></ul><p>The current sample solution implements one CorrelationId for the entire flow, is up to the implementer to decide how they want to track the correlation between services</p><br><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="operationcode"></a>OperationCode<a aria-hidden="true" tabindex="-1" class="hash-link" href="#operationcode" title="Direct link to heading">#</a></h3><p>Definition: Unique code used to track an operation type.</p><p><strong>Usage:</strong> Every operation has a type.</p><p><strong>Example:</strong> Create Item, Delete Item, Update Item, Query for Items and so on. Each of these types will be given a code that will be used by the logging handler to record the chain of events, exceptions or other information generated by an operation. The code is useful to de-couple the Operation name from other resources.</p><p><strong>Example:</strong></p><ul><li>The Command UpdateItem can raise the ItemUpdated event when succeeded, if the Item does not exist an exception ItemDoesNotExistException is raised.</li><li>The Command ReserveItem can raise the ItemUpdated and ItemSoldOut event when succeeded, if the Item does not exist an exception ItemDoesNotExistException is raised.</li></ul><p>In both cases, the same application events and exceptions can be raised, but both are part of different contexts, one is updating the item directly and the other indirectly.</p><p>Adding the OperationCode to these events, make it easier to:</p><ul><li>Identify the context of an event or exception</li><li>Group and track events or exceptions generally raised by one Operation type</li><li>Prevent operations with same name in different contexts to be considered the same</li><li>Simplify the tracking of existing operations by Having centralized list of operation codes</li></ul><br><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="unique-ids-and-codes-exceptions-events-and-operations-codes"></a>Unique Ids and Codes (exceptions, events and operations codes)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#unique-ids-and-codes-exceptions-events-and-operations-codes" title="Direct link to heading">#</a></h3><p>As described above, an application will create or handle operations, events and exceptions that will generates log entries in the logging platform. These log entries will be used to generate reports and alerts, in order to do so, they must be uniquely identifiable or easily aggregated to produce useful reports.</p><p>Exceptions, Events and possibly Operations names might conflict with names defined into different domains (i.e: AddAttachment command, AttachmentAdded event). Using the Full qualified name with a namespace would be a simple way to differentiate each domain related activity, but in some cases, like base packages shared by multiple services, exceptions or events might have the same namespaces, and it will make difficult to easily track their relationships.</p><p>Another scenario is linking exceptions and events to operations that triggered these, we could correlate them by the correlation id and tracking the operation who started the operation, another alternative is annotate the logs with the operation name.</p><p>To simplify these complexities, we will add unique ids and codes to exceptions, events and operations in order to uniquely identify them. These ids will be attached to all log entries for:</p><ul><li>Link events and exceptions to operations that triggered then. Simplifying reporting, monitoring and alerting processes.</li><li>Reduce the size of log entries from a long name, to an integer.</li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/stacks/docs/workloads/azure/backend/netcore/architecture/data_storage_cosmosdb_netcore"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Data Storage - CosmosDB</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/stacks/docs/workloads/azure/backend/netcore/architecture/swagger_configuration/configure_swagger_netcore"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configure Swagger Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#triggers" class="table-of-contents__link">Triggers</a></li><li><a href="#operations" class="table-of-contents__link">Operations</a></li><li><a href="#events" class="table-of-contents__link">Events</a></li><li><a href="#exceptions" class="table-of-contents__link">Exceptions</a></li><li><a href="#correlation" class="table-of-contents__link">Correlation</a></li><li><a href="#operationcode" class="table-of-contents__link">OperationCode</a></li><li><a href="#unique-ids-and-codes-exceptions-events-and-operations-codes" class="table-of-contents__link">Unique Ids and Codes (exceptions, events and operations codes)</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/stacks/docs/">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">About Us</h4><ul class="footer__items"><li class="footer__item"><a href="https://amido.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Amido</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Open Source</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/amido/stacks" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Amido Ltd</div></div></div></footer></div>
<script src="/stacks/styles.d30bcdc1.js"></script>
<script src="/stacks/runtime~main.1af6f950.js"></script>
<script src="/stacks/main.09c0159d.js"></script>
<script src="/stacks/1.fb567102.js"></script>
<script src="/stacks/2.55fe16f1.js"></script>
<script src="/stacks/3.3daf453a.js"></script>
<script src="/stacks/1be78505.58a6d2b9.js"></script>
<script src="/stacks/118.379b2dd0.js"></script>
<script src="/stacks/935f2afb.c80e8b07.js"></script>
<script src="/stacks/17896441.a68934af.js"></script>
<script src="/stacks/3134a503.2e4081a8.js"></script>
</body>
</html>