<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Create REST API with CQRS project | Ensono Stacks</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://stacks.ensono.com/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Create REST API with CQRS project | Ensono Stacks"><meta data-rh="true" name="description" content="Create .NET Core REST API application with CQRS from a template"><meta data-rh="true" property="og:description" content="Create .NET Core REST API application with CQRS from a template"><meta data-rh="true" name="keywords" content=".net core,rest api,cqrs,example,template,azure,application insights,cosmos db,build,run,application,configure,docker,tests,github"><link data-rh="true" rel="icon" href="/img/icons/favicon.ico"><link data-rh="true" rel="canonical" href="https://stacks.ensono.com/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore"><link data-rh="true" rel="alternate" href="https://stacks.ensono.com/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore" hreflang="en"><link data-rh="true" rel="alternate" href="https://stacks.ensono.com/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Create REST API with CQRS project","item":"https://stacks.ensono.com/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-EKCQBC5CSJ","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EKCQBC5CSJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-EKCQBC5CSJ",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.1e8117c5.css">
<script src="/assets/js/runtime~main.9303d1de.js" defer="defer"></script>
<script src="/assets/js/main.5986c05d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/icons/ensono-logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icons/ensono-logo.svg" alt="Ensono Stacks Logo" class="custom-navbar-logo-class themedComponent_mlkZ themedComponent--light_NVdE" height="36" width="150"><img src="/img/icons/ensono-logo.svg" alt="Ensono Stacks Logo" class="custom-navbar-logo-class themedComponent_mlkZ themedComponent--dark_xIcU" height="36" width="150"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a href="https://github.com/Ensono/amido.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://www.ensono.com/company/lets-connect/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Connect<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs">What is Ensono Stacks?</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/nx/nx_stacks">User Interface</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/workloads">Backend Services</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/workloads/common/backend/java/intro_java">Cloud Platforms</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/workloads/common/backend/java/intro_java">All</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/workloads/common/backend/java/intro_java">Azure</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/workloads/common/backend/java/intro_java">Java Spring Boot REST API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/workloads/azure/backend/netcore/introduction_netcore">.NET Core</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/netcore/introduction_netcore">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/netcore/requirements_netcore">Requirements</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/workloads/azure/backend/netcore/quickstart/web_api/create_project_netcore">Quickstart</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-6 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/workloads/azure/backend/netcore/quickstart/web_api/create_project_netcore">REST API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-6 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore">REST API with CQRS</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore">Create REST API with CQRS project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/configure_project_netcore">Configure REST API with CQRS project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-7 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/build_and_run_project_netcore">Build &amp; Run REST API with CQRS</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/workloads/azure/backend/netcore/architecture/architecture_overview_netcore">Architecture</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/netcore/testing/functional_testing_netcore">Functionally Testing the API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/netcore/testing/provider_contract_testing_dotnet">Contract Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/netcore/infrastructure_netcore">Infrastructure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/netcore/pipeline_netcore">Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/netcore/infrastructure_aws_netcore">AWS Infrastructure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/netcore/pipeline_gha_netcore">AWS/GHA Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/netcore/logging_netcore">Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workloads/azure/backend/netcore/security_netcore">Security</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/workloads/common/backend/java/intro_java">Amazon Web Services</a></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/workloads/azure/data/intro_data_azure">Data Platform</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/infrastructure/introduction">Infrastructure</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/testing/testing_overview">QA</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Backend Services</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Cloud Platforms</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Azure</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">.NET Core</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Quickstart</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">REST API with CQRS</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Create REST API with CQRS project</span></li></ul></nav><div class="theme-doc-markdown markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-project-using-the-nuget-template-package">Create a project using the Nuget template package<a href="#create-a-project-using-the-nuget-template-package" class="hash-link" aria-label="Direct link to Create a project using the Nuget template package" title="Direct link to Create a project using the Nuget template package">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-the-package">Install the package<a href="#install-the-package" class="hash-link" aria-label="Direct link to Install the package" title="Direct link to Install the package">​</a></h3>
<div class="playerSection_SVZU"><div class="playerWrapper_cclc"><div style="width:100%;height:100%" class="player_oSQx"></div></div></div>
<ol>
<li>
<p>Go to the <a href="https://www.nuget.org/packages/Ensono.Stacks.Templates/" target="_blank" rel="noopener noreferrer">Ensono.Stacks.Templates package page on Nuget</a>.</p>
</li>
<li>
<p>Copy the installation command shown on the page.</p>
</li>
<li>
<p>Open your terminal and run the command from Step 2.  An example of the command is shown below.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet new </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> Ensono.Stacks.Templates</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-new-project">Create a new project<a href="#create-a-new-project" class="hash-link" aria-label="Direct link to Create a new project" title="Direct link to Create a new project">​</a></h3>
<p>Once the Stacks Template package has finished installing, you will have the following templates to use as starting points for your projects: -</p>
<ul>
<li><strong>Web API</strong>: A web API built with controllers.</li>
<li><strong>Web API with CQRS</strong>: A web API built with controllers that uses the CQRS pattern.</li>
<li><strong>ServiceBus Worker</strong>: A background worker that monitors an Azure Service Bus and responds when a message is received.</li>
<li><strong>Azure Function: CosmosDb Worker</strong>: An Azure Function that sends a message to an Azure Service Bus, when an item is created in a Cosmos DB.</li>
<li><strong>Azure Function: EventHub Listener</strong>: An Azure Function that monitors an Azure Event Hub and responds when a message is received.</li>
<li><strong>Azure Function: ServiceBus Listener</strong>: An Azure Function that monitors an Azure Service Bus and responds when a message is received.</li>
</ul>
<p>These templates include automated testing and build pipelines, so they are ready for deployment to cloud providers.  To create a solution from one of these templates, please follow the relevant guide below.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-stacks-web-api-template">The Stacks Web API Template<a href="#the-stacks-web-api-template" class="hash-link" aria-label="Direct link to The Stacks Web API Template" title="Direct link to The Stacks Web API Template">​</a></h4>
<p>This template will create a simple Web API solution that is built with ASP .NET Controllers.  It includes authentication, authorization, middleware for managing exceptions and middleware to assign or preserve correlation IDs.</p>
<p>To create a Stacks Simple Web API solution: -</p>
<ol>
<li>
<p>Open your command line or terminal.</p>
</li>
<li>
<p>Change to the directory to where you would like to create your solution.</p>
</li>
<li>
<p>Run the following command, replacing the parameter values with your choices.<br>
<!-- -->For a description of each parameter and the options available, please scroll to the end of this section.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Run the command to create a Stacks Web API solution</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet new stacks-webapi </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> Company.Project </span><span class="token parameter variable" style="color:#36acaa">--domain</span><span class="token plain"> Menu </span><span class="token parameter variable" style="color:#36acaa">--cloudProvider</span><span class="token plain"> Azure</span><br></span></code></pre></div></div>
<p>This example command will create a folder and a solution called <code>Company.Project</code> with a sample domain object called <code>menu</code> and DevOps build pipelines for Microsoft Azure.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-stacks-web-api-with-cqrs-template">The Stacks Web API with CQRS Template<a href="#the-stacks-web-api-with-cqrs-template" class="hash-link" aria-label="Direct link to The Stacks Web API with CQRS Template" title="Direct link to The Stacks Web API with CQRS Template">​</a></h4>
<p>This template extends the Stacks Web API template.  It includes all the features of the Web API template and has been extended to implement the <a href="https://learn.microsoft.com/en-us/azure/architecture/patterns/cqrs" target="_blank" rel="noopener noreferrer">Command Query Responsibility Segregation architectural pattern</a>.  Example commands and queries are included in the solution to demonstrate how the CQRS pattern works.</p>
<p>To create a Stacks Web API with CQRS solution: -</p>
<ol>
<li>
<p>Open your command line or terminal.</p>
</li>
<li>
<p>Change to the directory to where you would like to create your solution.</p>
</li>
<li>
<p>Run the following command, replacing the parameter values with your choices.<br>
<!-- -->For a description of each parameter and the options available, please scroll to the end of this section.</p>
<div class="language-Run language-run codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-run codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet new stacks-cqrs --name Company.Project --domain Menu --database CosmosDb --eventPublisher ServiceBus --cloudProvider Azure</span><br></span></code></pre></div></div>
<p>This example command will create a folder and a solution called <code>Company.Project</code> with a sample domain object called <code>menu</code>.  The solution will use CosmosDB for its database and publish events to Azure Service Bus.  A DevOps build pipeline will also be created for Microsoft Azure.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-stacks-background-worker-template">The Stacks Background Worker Template<a href="#the-stacks-background-worker-template" class="hash-link" aria-label="Direct link to The Stacks Background Worker Template" title="Direct link to The Stacks Background Worker Template">​</a></h4>
<p>This template will create a solution for a Background Worker that monitors an <a href="https://learn.microsoft.com/en-us/azure/service-bus-messaging/" target="_blank" rel="noopener noreferrer">Azure Service Bus</a>.  When an Event is published to the Service Bus that the worker has subscribed to, it will respond by executing the appropriate Event Handler.  The solution contains several events and their handlers to serve as examples.</p>
<p>To create a Stacks Background Worker: -</p>
<ol>
<li>
<p>Open your command line or terminal.</p>
</li>
<li>
<p>Change to the directory to where you would like to create your solution.</p>
</li>
<li>
<p>Run the following command, replacing the parameter values with your choices.<br>
<!-- -->For a description of each parameter and the options available, please scroll to the end of this section.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Run the command to create a Stacks Background Worker solution</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet new stacks-asb-worker </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> Company.Project </span><span class="token parameter variable" style="color:#36acaa">--domain</span><span class="token plain"> Menu</span><br></span></code></pre></div></div>
<p>This example command will create a folder and a solution called <code>Company.Project</code> with a sample domain object called <code>menu</code> and a DevOps build pipeline for Microsoft Azure.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-stacks-azure-function-cosmos-db-worker-template">The Stacks Azure Function: Cosmos DB Worker Template<a href="#the-stacks-azure-function-cosmos-db-worker-template" class="hash-link" aria-label="Direct link to The Stacks Azure Function: Cosmos DB Worker Template" title="Direct link to The Stacks Azure Function: Cosmos DB Worker Template">​</a></h4>
<p>This template will create a solution for an Azure Function triggered by the <a href="https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-cosmosdb-v2-trigger" target="_blank" rel="noopener noreferrer">Azure Cosmos DB change feed trigger</a>. When an item is either created or updated in a Cosmos DB container, the Azure Function will trigger.  The Function will publish a message to an Azure Service Bus to notify subscribers that an item has either been created or updated in the Cosmos DB container.</p>
<p>To create an Azure Function Cosmos DB Worker: -</p>
<ol>
<li>
<p>Open your command line or terminal.</p>
</li>
<li>
<p>Change to the directory to where you would like to create your solution.</p>
</li>
<li>
<p>Run the following command, replacing the parameter values with your choices.<br>
<!-- -->For a description of each parameter and the options available, please scroll to the end of this section.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Run the command to create an Azure Function Cosmos DB Worker solution</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet new stacks-az-func-cosmosdb-worker </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> Company.Project</span><br></span></code></pre></div></div>
<p>This example command will create a folder and a solution called <code>Company.Project</code> and a DevOps build pipeline for Microsoft Azure.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-stacks-azure-function--event-hub-listener-template">The Stacks Azure Function:  Event Hub Listener Template<a href="#the-stacks-azure-function--event-hub-listener-template" class="hash-link" aria-label="Direct link to The Stacks Azure Function:  Event Hub Listener Template" title="Direct link to The Stacks Azure Function:  Event Hub Listener Template">​</a></h4>
<p>This template will create a solution for an Azure Function that uses the <a href="https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-event-hubs-trigger" target="_blank" rel="noopener noreferrer">Azure Event Hub Trigger</a>.  When a new event is published to the Event Hub that the function is monitoring, the function will trigger.  The function will receive the event, deserializes it to an object and write a log message that it has received a message.</p>
<p>To create an Azure Function Event Hub Listener: -</p>
<ol>
<li>
<p>Open your command line or terminal.</p>
</li>
<li>
<p>Change to the directory to where you would like to create your solution.</p>
</li>
<li>
<p>Run the following command, replacing the parameter values with your choices.<br>
<!-- -->For a description of each parameter and the options available, please scroll to the end of this section.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Run the command to create an Azure Function Event Hub Listener solution</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet new stacks-az-func-aeh-listener </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> Company.Project </span><span class="token parameter variable" style="color:#36acaa">--domain</span><span class="token plain"> Menu</span><br></span></code></pre></div></div>
<p>This example command will create a folder and a solution called <code>Company.Project</code> with a sample event for when a <code>menu</code> is created and a DevOps build pipeline for Microsoft Azure.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="stacks-azure-function--azure-service-bus-listener">Stacks Azure Function:  Azure Service Bus Listener<a href="#stacks-azure-function--azure-service-bus-listener" class="hash-link" aria-label="Direct link to Stacks Azure Function:  Azure Service Bus Listener" title="Direct link to Stacks Azure Function:  Azure Service Bus Listener">​</a></h4>
<p>This is a template for an Azure Function that uses the <a href="https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-service-bus-trigger" target="_blank" rel="noopener noreferrer">Azure Service Bus Trigger</a>.  When a new message is published to an Azure Service Bus that the function has subscribed to, the function will trigger.  The function will receive the message, deserializes it to an object and write a log that it has received a message.</p>
<p>To create an Azure Service Bus Listener: -</p>
<ol>
<li>Open your command line or terminal.</li>
<li>Change to the directory to where you would like to create your solution.</li>
<li>Run the following command, replacing the parameter values with your choices.<br>
<!-- -->For a description of each parameter and the options available, please scroll to the end of this section.</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Run the command to create an Azure Function Service Bus Listener solution</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet new stacks-az-func-asb-listener </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> Company.Project  </span><span class="token parameter variable" style="color:#36acaa">--domain</span><span class="token plain"> Menu</span><br></span></code></pre></div></div>
<p>This example command will create a folder and a solution called <code>Company.Project</code> with a sample event for when a <code>menu</code> is created and a DevOps build pipeline for Microsoft Azure.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="template-parameters">Template Parameters<a href="#template-parameters" class="hash-link" aria-label="Direct link to Template Parameters" title="Direct link to Template Parameters">​</a></h4>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Template parameter details</div><div class="admonitionContent_BuS1"><p>A description of the parameters used in the examples above are shown below.<br>
<!-- -->Please note that some templates may only offer a subset of the parameters shown.</p><ul>
<li>
<p><strong>-n | --name</strong></p>
<ul>
<li>Sets the project name.</li>
<li>If you do not provide this parameter, the project name will be the same as the folder where you run the command.</li>
</ul>
</li>
<li>
<p><strong>-do | --domain</strong></p>
<ul>
<li>Sets the name of the sample domain model&#x27;s aggregate root object for API templates.</li>
<li>Sets the name the sample events that are created for for listener templates.</li>
<li>Sets the name of the CosmosDB collection if Cosmos DB is chosen for a database.</li>
</ul>
</li>
<li>
<p><strong>-db | --database</strong></p>
<ul>
<li>Configures which database provider will be used.<!-- -->
<ul>
<li>Choices: -</li>
<li><code>CosmosDb</code> for Microsoft Azure CosmosDB,</li>
<li><code>DynamoDb</code> for Amazon Web Services DynamoDB,</li>
<li><code>InMemoryDb</code> for an in memory &#x27;database&#x27;.  For demonstration, not suitable for production.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>-e | --eventPublisher</strong></p>
<ul>
<li>Configures which messaging service will be used.</li>
<li>Choices: -<!-- -->
<ul>
<li><code>AwsSns</code> for Amazon Web Services Simple Notification Service,</li>
<li><code>EventHub</code> for Microsoft Azure Event Hub,</li>
<li><code>ServiceBus</code> for Microsoft Azure Event Hub,</li>
<li><code>None</code> to not include an event publisher.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>-o | --output</strong></p>
<ul>
<li>Sets the path where the project will be created.</li>
<li>If you do not provide this parameter, a new folder will be created.</li>
</ul>
</li>
<li>
<p><strong>-cp | --cloudProvider</strong></p>
<ul>
<li>Configures which cloud provider to use.</li>
<li>Choices: -<!-- -->
<ul>
<li><code>AWS</code> for Amazon Web Services,</li>
<li><code>Azure</code> for Microsoft Azure,</li>
<li><code>GCP</code> for Google Cloud PLatform.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>-cicd | --cicdProvider</strong></p>
<ul>
<li>Configures which CI/CD provider templates to use.</li>
<li>Choices: -<!-- -->
<ul>
<li><code>AZDO</code> for Microsoft Azure DevOps,</li>
<li><code>GHA</code> for GitHub Actions,</li>
<li><code>None</code> to not include CI/CD pipelines.</li>
</ul>
</li>
</ul>
</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="uninstalling-the-templates">Uninstalling the templates<a href="#uninstalling-the-templates" class="hash-link" aria-label="Direct link to Uninstalling the templates" title="Direct link to Uninstalling the templates">​</a></h3>
<p>To remove the Stacks templates from your machine, uninstall the NuGet package by running the following command</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">To uninstall package execute the following command</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet new uninstall Ensono.Stacks.Templates</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/workloads/azure/backend/netcore/quickstart/web_api/build_and_run_project_netcore"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Build &amp; Run REST API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/configure_project_netcore"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configure REST API with CQRS project</div></a></nav></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Getting Started</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">About Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ensono.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ensono<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.ensono.com/company/lets-connect/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get in touch<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.ensono.com/company/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers at Ensono<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Open Source</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Ensono/amido.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div></div></footer><div class="footer__legal_UQWj"><div><img src="/img/icons/ensono-logo.svg" alt="Ensono logo"></div><div><span>Privacy Policy © <!-- -->2025<!-- --> Ensono, LLC. All rights reserved</span></div><div><a href="https://www.linkedin.com/company/ensono" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24"><title>LinkedIn</title><path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"></path></svg></a></div></div></div>
</body>
</html>