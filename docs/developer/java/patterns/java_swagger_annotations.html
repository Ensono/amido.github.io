<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-EKCQBC5CSJ","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EKCQBC5CSJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-EKCQBC5CSJ",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Amido Stacks " href="/opensearch.xml"><title data-react-helmet="true">Reducing Swagger Annotation Overload | Amido Stacks </title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://stacks.amido.com/docs/developer/java/patterns/java_swagger_annotations"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Reducing Swagger Annotation Overload | Amido Stacks "><meta data-react-helmet="true" name="description" content="Reducing Swagger Annotation Overload"><meta data-react-helmet="true" property="og:description" content="Reducing Swagger Annotation Overload"><meta data-react-helmet="true" name="keywords" content="development,java,backend,server-side"><link data-react-helmet="true" rel="shortcut icon" href="/img/thumbnail_stacks.png"><link data-react-helmet="true" rel="canonical" href="https://stacks.amido.com/docs/developer/java/patterns/java_swagger_annotations"><link data-react-helmet="true" rel="alternate" href="https://stacks.amido.com/docs/developer/java/patterns/java_swagger_annotations" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://stacks.amido.com/docs/developer/java/patterns/java_swagger_annotations" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.8807cd65.css">
<link rel="preload" href="/assets/js/runtime~main.ab648cc9.js" as="script">
<link rel="preload" href="/assets/js/main.fd494aa4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_wide.svg" alt="Amido Stacks Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo_wide.svg" alt="Amido Stacks Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title"></b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a href="https://github.com/amido/amido.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Learn about Stacks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Development Support</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/developer_patterns_readme">Development Patterns</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Java Development Patterns</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/java/patterns/java_app_layering">Separation of Concerns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/java/patterns/java_mapstruct_mapping">Reducing Bean Mapping Boilerplate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/developer/java/patterns/java_swagger_annotations">Reducing Swagger Annotation Overload</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Workloads</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Infrastructure</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Quality Assurance</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Stacks CLI</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Reducing Swagger Annotation Overload</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="context">Context<a aria-hidden="true" class="hash-link" href="#context" title="Direct link to heading">â€‹</a></h2><p>The API documentation is an essential part of building REST APIs to make the services available to all audience.
This documentation should help consumers of the service know which all services are available and its fine details.
Also, there should be some simple way to test if the service is up. </p><p>SpringDoc simplifies the generation and maintenance of API docs based on the OpenAPI 3 specification for the spring boot applications.
The exposed services are bound to change and the documentation needs to be updated as the services change.
If this is done manually, then it will become a complex process, and it will be prone to error, especially as the number of REST services increase.
This is where swagger helps to automate this documentation process and the consumers of this API would see the output of all of this in the swagger UI (for example, the Swagger API Doc Endpoint at <em>/swagger/index.html</em>).</p><p>The proliferation of Swagger annotation&#x27;s means that there is a lot of duplicated APIResponse annotations that bloat the code and make it difficult to maintain and read.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="solution">Solution<a aria-hidden="true" class="hash-link" href="#solution" title="Direct link to heading">â€‹</a></h2><p>To avoid the code duplication around swagger annotations, we have opted to use our own @interface Java annotation to &quot;carry&quot; these annotations and make them a reusable unit
which will minimise the duplicated Swagger annotations from controller methods.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="implementation-examples">Implementation Examples<a aria-hidden="true" class="hash-link" href="#implementation-examples" title="Direct link to heading">â€‹</a></h2><p>We have defined custom java annotations per CRUD operation to be used by the controller classes. This will promote re-usability of the
swagger annotations rather than duplicating the code across multiple controller classes.</p><p><strong>Example of java custom annotation:</strong></p><p>In the below example we have:</p><ul><li>Added multiple Swagger REST response annotations to our own annotation </li><li>Added the Security Requirement annotation</li></ul><p>This is so that we have a single annotation that a developer can use to easily apply all of these Swagger repetitive annotations
across multiple classes using just a single annotation per class, therefore fixing the problem being addressed - annotation bloat.</p><p>In the below example, we are creating ReadAPIResponses annotation.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@Target({ElementType.METHOD, ElementType.TYPE})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Retention(RetentionPolicy.RUNTIME)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ApiResponses({@ApiResponse(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    responseCode = &quot;404&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description = &quot;Resource not found&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    content = {@Content(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mediaType = &quot;application/json&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema = @Schema(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    implementation = ErrorResponse.class))}), </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ApiResponse(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    responseCode = &quot;400&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description = &quot;Bad Request&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    content = {@Content(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mediaType = &quot;application/json&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema = @Schema(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    implementation = ErrorResponse.class))}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  )})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@SecurityRequirement(name = &quot;bearerAuth&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public @interface ReadAPIResponses {}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Using the custom Annotation @ReadAPIResponses:</strong></p><p>In the below code example, java custom annotation @ReadAPIResponses has been used.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@RestController</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MenuController {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @GetMapping(value = &quot;/{id}&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Operation(tags = &quot;Menu&quot;, summary = &quot;Get a menu&quot;, description = &quot;By passing the menu id, ...&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ReadAPIResponses</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ResponseEntity&lt;MenuDTO&gt; getMenu(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @PathVariable(name = &quot;id&quot;) UUID id,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Parameter(hidden = true) @RequestAttribute(&quot;CorrelationId&quot;) String correlationId) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Code here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Overriding the custom annotations:</strong></p><p>We can override our new custom annotation entries by placing the annotation <strong>before the new custom annotation</strong>.
In the below example, @ApiResponse entry will <strong>override</strong> the 200 response code in @ReadAPIResponses custom annotation as the @ApiResponse comes <strong>before</strong>
@ReadAPIResponses. We just have to make that the annotations are placed in the right order.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@RestController</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MenuController {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @GetMapping(value = &quot;/{id}&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Operation(tags = &quot;Menu&quot;, summary = &quot;Get a menu&quot;, description = &quot;By passing the menu id, ...&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ApiResponse(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      responseCode = &quot;200&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      description = &quot;Menu&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      content =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      @Content(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          mediaType = MediaType.APPLICATION_JSON_VALUE,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          schema = @Schema(implementation = MenuDTO.class)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ReadAPIResponses</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ResponseEntity&lt;MenuDTO&gt; getMenu(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      @PathVariable(name = &quot;id&quot;) UUID id,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      @Parameter(hidden = true) @RequestAttribute(&quot;CorrelationId&quot;) String correlationId) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Code here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/developer/java/patterns/java_mapstruct_mapping"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Reducing Bean Mapping Boilerplate</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/workloads/workloads"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Introduction<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#solution" class="table-of-contents__link toc-highlight">Solution</a></li><li><a href="#implementation-examples" class="table-of-contents__link toc-highlight">Implementation Examples</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">About Us</div><ul class="footer__items"><li class="footer__item"><a href="https://amido.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Amido<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Open Source</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/amido/amido.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Amido Ltd</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ab648cc9.js"></script>
<script src="/assets/js/main.fd494aa4.js"></script>
</body>
</html>