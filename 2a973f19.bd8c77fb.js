(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{116:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return b})),n.d(t,"default",(function(){return p}));var a=n(2),r=n(6),o=(n(0),n(200)),c=n(206),l=n(207),i={id:"create_project_netcore",title:"Create the project",hide_title:!0,sidebar_label:"Create the project",hide_table_of_contents:!0,description:"Create .NET Core REST API application with CQRS from a template",keywords:[".net core","rest api","cqrs","example","template","azure","application insights","cosmos db","build","run","application","configure","docker","tests","github"]},s={unversionedId:"workloads/azure/backend/netcore/quickstart/web_api_cqrs_events/create_project_netcore",id:"workloads/azure/backend/netcore/quickstart/web_api_cqrs_events/create_project_netcore",isDocsHomePage:!1,title:"Create the project",description:"Create .NET Core REST API application with CQRS from a template",source:"@site/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs_events/create_project_netcore.md",slug:"/workloads/azure/backend/netcore/quickstart/web_api_cqrs_events/create_project_netcore",permalink:"/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs_events/create_project_netcore",version:"current",sidebar_label:"Create the project",sidebar:"docs",previous:{title:"Build & Run",permalink:"/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/build_and_run_project_netcore"},next:{title:"Configure the project",permalink:"/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs_events/configure_project_netcore"}},b=[{value:"Create the project",id:"create-the-project",children:[]},{value:"Pros and cons of each option",id:"pros-and-cons-of-each-option",children:[]}],u={rightToc:b};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"create-the-project"},"Create the project"),Object(o.b)("p",null,"There are several ways to get your Stacks project, or to get parts of it."),Object(o.b)("br",null),Object(o.b)("details",null,Object(o.b)("summary",null,"Create a new project using the template or add code to an existing project"),Object(o.b)("div",null,Object(o.b)("p",null,"1.### Install the package"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),'Access Amido.Stacks.CQRS.Events.Template package page in Nuget [here](https://www.nuget.org/packages/Amido.Stacks.CQRS.Events.Templates/)\nCopy and execute the command displayed in the page (if you want to get the latest version).\nFor example\n\n```bash title="Run the command to install the package"\ndotnet new --install Amido.Stacks.CQRS.Events.Templates::0.0.92\n```\n')),Object(o.b)("p",null," Once installed, you obtain 5 templates that can be used"),Object(o.b)("p",null,"2.### stacks-app-cqrs-events"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),'<p>The full template containing API, functions, background worker and build infrastructure</p>\n\nNavigate to the folder where you wish to create a new project on.\n\n```bash title="Run the command to create the project"\ndotnet new stacks-app-cqrs-events -n Company.Project -d YourDomain\n```\n\nThe above command will create a folder and a repository called `Company.Project`.\n')),Object(o.b)("p",null,"3.### stacks-api-cqrs-events"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),'<p>A template for the api project. If you need a CQRS WebAPI that can publish messages to ServiceBus, this is the template to use.</p>\n\nNavigate to the folder where you wish to create a new project on.\n\n```bash title="Run the command to create the project"\ndotnet new stacks-api-cqrs-events -n Company.Project -d YourDomain\n```\n\nThe above command will create a folder and a repository called `Company.Project`.    \n')),Object(o.b)("p",null,"4.### stacks-function-cosmosdb-worker"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),'<p>A template for a Azure Function containing a CosmosDb change feed trigger. Upon a CosmosDb event, the worker reads it and publishes a message to Service Bus.</p>\n\nNavigate to the folder where you wish to create a new project on.\n\n```bash title="Run the command to create the function"\ndotnet new stacks-function-cosmosdb-worker -n Company.Project\n```\n')),Object(o.b)("p",null,"5.### stacks-function-asb-listener"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),'<p>A template containing an Azure Function project with a single function that has a Service Bus subscription trigger. The function receives the message and deserializes it.</p>\n\nNavigate to the folder where you wish to create a new project on.\n\n```bash title="Run the command to create the function"\ndotnet new stacks-function-asb-listener -n Company.Project\n```\n')),Object(o.b)("p",null,"6.### stacks-app-asb-worker"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),'<p>A template contains a background worker application that reads and handles messages from a ServiceBus subscription.</p>\n\nNavigate to the folder where you wish to create a new project on.\n\n```bash title="Run the command to create the function"\ndotnet new stacks-app-asb-worker -n Company.Project\n```\n')),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Template parameter details")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("ul",{parentName:"div"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"-n"),", ",Object(o.b)("strong",{parentName:"li"},"--name"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Sets the project name"),Object(o.b)("li",{parentName:"ul"},"Omitting it will result in the project name being the same as the folder where the command has been ran from"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"-d"),", ",Object(o.b)("strong",{parentName:"li"},"--domain"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Sets the name of the aggregate root object. It is also the name of the collection within CosmosDB instance."))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"-o"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Sets the path to where the project is added"),Object(o.b)("li",{parentName:"ul"},"Omitting the parameter will result in the creation of a new folder")))))))),Object(o.b)("br",null),Object(o.b)("details",null,Object(o.b)("summary",null,"Create the project by cloning GitHub repository"),Object(o.b)("div",null,Object(o.b)("p",null,"Clone the .NET project to your local machine from here: ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/amido/stacks-dotnet-cqrs-events"}),"stacks-dotnet-cqrs-events repository")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),'```bash title="Run git clone repository command"\ngit clone git@github.com:amido/stacks-dotnet-cqrs-events.git\n```\n')))),Object(o.b)("br",null),Object(o.b)("details",null,Object(o.b)("summary",null,"Create the project using the Scaffolding CLI (in redevelopment)"),Object(o.b)("div",null,Object(o.b)("p",null,"The scaffolding CLI is being redeveloped to offer you more guided choices of Amido Stacks project flavour.\nBased on the answers, the ready-to-build project template will be produced."))),Object(o.b)("br",null),Object(o.b)("hr",null),Object(o.b)("h2",{id:"pros-and-cons-of-each-option"},"Pros and cons of each option"),Object(o.b)(c.a,{defaultValue:"template",values:[{label:".NET Core Template",value:"template"},{label:"GitHub Repository Clone",value:"repository_clone"},{label:"Scaffolding  CLI",value:"scaffolding_cli"}],mdxType:"Tabs"},Object(o.b)(l.a,{value:"template",mdxType:"TabItem"},Object(o.b)("h4",null,"PROS"),Object(o.b)("ul",null,Object(o.b)("li",null,"Has no dependencies."),Object(o.b)("li",null,"Enables creation of .NET Core projects in Amido Stacks Suite."),Object(o.b)("li",null,"Can pick some parts of the whole suite (just a function, just a worker, etc)."),Object(o.b)("li",null,"Enables versioning and access to older versions of Stacks templates"),Object(o.b)("li",null,"Removes out the content not needed from the GitHub repository.")),Object(o.b)("h4",null,"CONS"),Object(o.b)("ul",null,Object(o.b)("li",null,"Too many commands to run."))),Object(o.b)(l.a,{value:"repository_clone",mdxType:"TabItem"},Object(o.b)("p",null,"source code can be found [here](https://github.com/amido/stacks-dotnet-cqrs)"),Object(o.b)("h4",null,"PROS"),Object(o.b)("ul",null,Object(o.b)("li",null,"Familiar approach."),Object(o.b)("li",null,"Quick and easy to run (one command).")),Object(o.b)("h4",null,"CONS"),Object(o.b)("ul",null,Object(o.b)("li",null,"Requires ",Object(o.b)("strong",null,"git")," installation."),Object(o.b)("li",null,"Does not remove the files not needed in the repository which may create confusion."),Object(o.b)("li",null,"Does not allow automated personalization of the project."),Object(o.b)("li",null,"All Amido Stacks repositories links required to create all flavours of projects."))),Object(o.b)(l.a,{value:"scaffolding_cli",mdxType:"TabItem"},Object(o.b)("p",null,"The Amido Stacks Scaffolding CLI will be used to create a fully-functional and deployable project from a template, in a variety of flavours."),Object(o.b)("h4",null,"PROS"),Object(o.b)("ul",null,Object(o.b)("li",null,"Provides a guided project creation when generating the preferred project flavour."),Object(o.b)("li",null,"Enables the creation of all projects in Amido Stacks templates suite."),Object(o.b)("li",null,"Allows automated personalization of project name, domain model, company name."),Object(o.b)("li",null,"Removes out the content not needed from the GitHub repository.")),Object(o.b)("h4",null,"CONS"),Object(o.b)("ul",null,Object(o.b)("li",null,"Requires ",Object(o.b)("strong",null,"npm")," and ",Object(o.b)("strong",null,"npx")," installation.")))),Object(o.b)("br",null))}p.isMDXComponent=!0},200:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),b=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=b(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),u=b(n),d=a,m=u["".concat(c,".").concat(d)]||u[d]||p[d]||o;return n?r.a.createElement(m,l(l({ref:t},s),{},{components:n})):r.a.createElement(m,l({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,c=new Array(o);c[0]=d;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:a,c[1]=l;for(var s=2;s<o;s++)c[s]=n[s];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},202:function(e,t,n){"use strict";function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}t.a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r}},204:function(e,t,n){"use strict";var a=n(0),r=Object(a.createContext)(void 0);t.a=r},205:function(e,t,n){"use strict";var a=n(0),r=n(204);t.a=function(){var e=Object(a.useContext)(r.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},206:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(205),c=n(202),l=n(52),i=n.n(l),s=37,b=39;t.a=function(e){var t=e.block,n=e.children,l=e.defaultValue,u=e.values,p=e.groupId,d=Object(o.a)(),m=d.tabGroupChoices,j=d.setTabGroupChoices,f=Object(a.useState)(l),h=f[0],O=f[1],v=Object(a.useState)(!1),g=v[0],w=v[1];if(null!=p){var y=m[p];null!=y&&y!==h&&u.some((function(e){return e.value===y}))&&O(y)}var k=function(e){O(e),null!=p&&j(p,e)},C=[],N=function(e){e.metaKey||e.altKey||e.ctrlKey||w(!0)},_=function(){w(!1)};return Object(a.useEffect)((function(){window.addEventListener("keydown",N),window.addEventListener("mousedown",_)}),[]),r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(c.a)("tabs",{"tabs--block":t})},u.map((function(e){var t=e.value,n=e.label;return r.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":h===t,className:Object(c.a)("tabs__item",i.a.tabItem,{"tabs__item--active":h===t}),style:g?{}:{outline:"none"},key:t,ref:function(e){return C.push(e)},onKeyDown:function(e){!function(e,t,n){switch(n.keyCode){case b:!function(e,t){var n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()}(e,t);break;case s:!function(e,t){var n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,t)}}(C,e.target,e),N(e)},onFocus:function(){return k(t)},onClick:function(){k(t),w(!1)},onPointerDown:function(){return w(!1)}},n)}))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(n).filter((function(e){return e.props.value===h}))[0]))}},207:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){return r.a.createElement("div",null,e.children)}}}]);