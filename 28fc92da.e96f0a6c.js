(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{109:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return o})),r.d(t,"metadata",(function(){return u})),r.d(t,"rightToc",(function(){return l})),r.d(t,"default",(function(){return b}));var n=r(2),a=r(6),i=(r(0),r(210)),c=r(212),o={id:"architecture_java",title:"Java Rest API Architecture",sidebar_label:"Architecture overview",hide_title:!1,hide_table_of_contents:!0,description:"Spring Boot Rest API Architecture",keywords:["java","rest","api","architecture","spring boot","event","controller","logs","monitoring","query service","repository","azure cosmos db","event handler","event listener","event dispatcher","authorisation"]},u={unversionedId:"workloads/azure/backend/java/architecture_java",id:"workloads/azure/backend/java/architecture_java",isDocsHomePage:!1,title:"Java Rest API Architecture",description:"Spring Boot Rest API Architecture",source:"@site/docs/workloads/azure/backend/java/architecture_java.md",slug:"/workloads/azure/backend/java/architecture_java",permalink:"/stacks/docs/workloads/azure/backend/java/architecture_java",version:"current",sidebar_label:"Architecture overview",sidebar:"docs",previous:{title:"IDE guidelines for the Java Rest API",permalink:"/stacks/docs/workloads/azure/backend/java/ide_java"},next:{title:"Java Rest API Structure",permalink:"/stacks/docs/workloads/azure/backend/java/structure_java"}},l=[{value:"Spring Boot Rest API Architecture",id:"spring-boot-rest-api-architecture",children:[]}],s={rightToc:l};function b(e){var t=e.components,r=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},s,r,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"spring-boot-rest-api-architecture"},"Spring Boot Rest API Architecture"),Object(i.b)("p",null,"The diagram below represents the architecture used in the project."),Object(i.b)("img",{alt:"Project architecture CQRS",src:Object(c.a)("img/java-non-cqrs.png")}),Object(i.b)("p",null,"Upon successful execution of a database update, the microservice publishes one or more events\ndescribing how the persistence state has changed e.g. if a \u201cCreate Category\u201d event is successful,\nthen a \u201cMenu Updated\u201d event and a \u201cCategory Created\u201d event will be published."),Object(i.b)("p",null,"Application Events contain the following basic information:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Event Attribute"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"id"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Unique id of the event instance (format: uuid)")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"eventCode"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Code identifying the type of event")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"correlationId"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Transaction identifier. This attribute is also returned as a response header if the command was received via the REST API and can also be found in all log entries relating to the transaction. CorrelationID can either be supplied by the input event/request or generated when not supplied.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"operationCode"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Code identifying the operation which generated the event")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"creationDate"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"When the event was created")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Custom Attribute(s)"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"e.g. menuId")))))}b.isMDXComponent=!0},210:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return f}));var n=r(0),a=r.n(n);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=a.a.createContext({}),s=function(e){var t=a.a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},b=function(e){var t=s(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},p=a.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,c=e.parentName,l=u(e,["components","mdxType","originalType","parentName"]),b=s(r),p=n,f=b["".concat(c,".").concat(p)]||b[p]||d[p]||i;return r?a.a.createElement(f,o(o({ref:t},l),{},{components:r})):a.a.createElement(f,o({ref:t},l))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,c=new Array(i);c[0]=p;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:n,c[1]=o;for(var l=2;l<i;l++)c[l]=r[l];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,r)}p.displayName="MDXCreateElement"},211:function(e,t,r){"use strict";var n=r(0),a=r(19);t.a=function(){var e=Object(n.useContext)(a.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},212:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return c}));var n=r(211),a=r(214);function i(){var e=Object(n.a)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,r=void 0===t?"/":t,i=e.url;return{withBaseUrl:function(e,t){return function(e,t,r,n){var i=void 0===n?{}:n,c=i.forcePrependBaseUrl,o=void 0!==c&&c,u=i.absolute,l=void 0!==u&&u;if(!r)return r;if(r.startsWith("#"))return r;if(Object(a.b)(r))return r;if(o)return t+r;var s=r.startsWith(t)?r:t+r.replace(/^\//,"");return l?e+s:s}(i,r,e,t)}}}function c(e,t){return void 0===t&&(t={}),(0,i().withBaseUrl)(e,t)}},214:function(e,t,r){"use strict";function n(e){return!0===/^(\w*:|\/\/)/.test(e)}function a(e){return void 0!==e&&!n(e)}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}))}}]);