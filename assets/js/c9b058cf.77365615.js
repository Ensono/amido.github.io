"use strict";(self.webpackChunkstacks=self.webpackChunkstacks||[]).push([[8481,6360,9647,2160,8919,6707,9977],{3905:function(t,e,n){n.d(e,{Zo:function(){return u},kt:function(){return m}});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var o=a.createContext({}),p=function(t){var e=a.useContext(o),n=e;return t&&(n="function"==typeof t?t(e):s(s({},e),t)),n},u=function(t){var e=p(t.components);return a.createElement(o.Provider,{value:e},t.children)},c="mdxType",g={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,o=t.parentName,u=l(t,["components","mdxType","originalType","parentName"]),c=p(n),d=r,m=c["".concat(o,".").concat(d)]||c[d]||g[d]||i;return n?a.createElement(m,s(s({ref:e},u),{},{components:n})):a.createElement(m,s({ref:e},u))}));function m(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,s=new Array(i);s[0]=d;var l={};for(var o in e)hasOwnProperty.call(e,o)&&(l[o]=e[o]);l.originalType=t,l[c]="string"==typeof t?t:r,s[1]=l;for(var p=2;p<i;p++)s[p]=n[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5162:function(t,e,n){n.d(e,{Z:function(){return s}});var a=n(7294),r=n(6010),i={tabItem:"tabItem_Ymn6"};function s(t){var e=t.children,n=t.hidden,s=t.className;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(i.tabItem,s),hidden:n},e)}},4866:function(t,e,n){n.d(e,{Z:function(){return b}});var a=n(7462),r=n(7294),i=n(6010),s=n(2466),l=n(6550),o=n(1980),p=n(7392),u=n(12);function c(t){return function(t){var e,n;return null!=(e=null==(n=r.Children.map(t,(function(t){if(!t||(0,r.isValidElement)(t)&&(e=t.props)&&"object"==typeof e&&"value"in e)return t;var e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof t.type?t.type:t.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:n.filter(Boolean))?e:[]}(t).map((function(t){var e=t.props;return{value:e.value,label:e.label,attributes:e.attributes,default:e.default}}))}function g(t){var e=t.values,n=t.children;return(0,r.useMemo)((function(){var t=null!=e?e:c(n);return function(t){var e=(0,p.l)(t,(function(t,e){return t.value===e.value}));if(e.length>0)throw new Error('Docusaurus error: Duplicate values "'+e.map((function(t){return t.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(t),t}),[e,n])}function d(t){var e=t.value;return t.tabValues.some((function(t){return t.value===e}))}function m(t){var e=t.queryString,n=void 0!==e&&e,a=t.groupId,i=(0,l.k6)(),s=function(t){var e=t.queryString,n=void 0!==e&&e,a=t.groupId;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=a?a:null}({queryString:n,groupId:a});return[(0,o._X)(s),(0,r.useCallback)((function(t){if(s){var e=new URLSearchParams(i.location.search);e.set(s,t),i.replace(Object.assign({},i.location,{search:e.toString()}))}}),[s,i])]}function h(t){var e,n,a,i,s=t.defaultValue,l=t.queryString,o=void 0!==l&&l,p=t.groupId,c=g(t),h=(0,r.useState)((function(){return function(t){var e,n=t.defaultValue,a=t.tabValues;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!d({value:n,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+a.map((function(t){return t.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}var r=null!=(e=a.find((function(t){return t.default})))?e:a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:s,tabValues:c})})),y=h[0],k=h[1],f=m({queryString:o,groupId:p}),w=f[0],v=f[1],b=(e=function(t){return t?"docusaurus.tab."+t:null}({groupId:p}.groupId),n=(0,u.Nk)(e),a=n[0],i=n[1],[a,(0,r.useCallback)((function(t){e&&i.set(t)}),[e,i])]),N=b[0],x=b[1],_=function(){var t=null!=w?w:N;return d({value:t,tabValues:c})?t:null}();return(0,r.useLayoutEffect)((function(){_&&k(_)}),[_]),{selectedValue:y,selectValue:(0,r.useCallback)((function(t){if(!d({value:t,tabValues:c}))throw new Error("Can't select invalid tab value="+t);k(t),v(t),x(t)}),[v,x,c]),tabValues:c}}var y=n(2389),k={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function f(t){var e=t.className,n=t.block,l=t.selectedValue,o=t.selectValue,p=t.tabValues,u=[],c=(0,s.o5)().blockElementScrollPositionUntilNextRender,g=function(t){var e=t.currentTarget,n=u.indexOf(e),a=p[n].value;a!==l&&(c(e),o(a))},d=function(t){var e,n=null;switch(t.key){case"Enter":g(t);break;case"ArrowRight":var a,r=u.indexOf(t.currentTarget)+1;n=null!=(a=u[r])?a:u[0];break;case"ArrowLeft":var i,s=u.indexOf(t.currentTarget)-1;n=null!=(i=u[s])?i:u[u.length-1]}null==(e=n)||e.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},e)},p.map((function(t){var e=t.value,n=t.label,s=t.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===e?0:-1,"aria-selected":l===e,key:e,ref:function(t){return u.push(t)},onKeyDown:d,onClick:g},s,{className:(0,i.Z)("tabs__item",k.tabItem,null==s?void 0:s.className,{"tabs__item--active":l===e})}),null!=n?n:e)})))}function w(t){var e=t.lazy,n=t.children,a=t.selectedValue,i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){var s=i.find((function(t){return t.props.value===a}));return s?(0,r.cloneElement)(s,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map((function(t,e){return(0,r.cloneElement)(t,{key:e,hidden:t.props.value!==a})})))}function v(t){var e=h(t);return r.createElement("div",{className:(0,i.Z)("tabs-container",k.tabList)},r.createElement(f,(0,a.Z)({},t,e)),r.createElement(w,(0,a.Z)({},t,e)))}function b(t){var e=(0,y.Z)();return r.createElement(v,(0,a.Z)({key:String(e)},t))}},4742:function(t,e,n){n.r(e),n.d(e,{assets:function(){return u},contentTitle:function(){return o},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return c}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),s=["components"],l={},o=void 0,p={unversionedId:"getting_started/playwright/accessibility",id:"getting_started/playwright/accessibility",title:"accessibility",description:"@ensono-stacks/playwright:accessibility",source:"@site/docs/getting_started/playwright/accessibility.md",sourceDirName:"getting_started/playwright",slug:"/getting_started/playwright/accessibility",permalink:"/docs/getting_started/playwright/accessibility",draft:!1,tags:[],version:"current",frontMatter:{}},u={},c=[{value:"@ensono-stacks/playwright:accessibility",id:"ensono-stacksplaywrightaccessibility",level:3},{value:"Usage",id:"usage",level:2},{value:"Command line arguments",id:"command-line-arguments",level:3},{value:"Generator Output",id:"generator-output",level:3}],g={toc:c},d="wrapper";function m(t){var e=t.components,n=(0,r.Z)(t,s);return(0,i.kt)(d,(0,a.Z)({},g,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"ensono-stacksplaywrightaccessibility"},"@ensono-stacks/playwright:accessibility"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Adds axe accessibility tests to your test project"),(0,i.kt)("p",null,"The ",(0,i.kt)("em",{parentName:"p"},"accessibility")," generator installs ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/dequelabs/axe-core-npm/blob/develop/packages/playwright/README.md"},(0,i.kt)("inlineCode",{parentName:"a"},"@axe-core/playwright"))," and configures an example accessibility test"),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nx g @ensono-stacks/playwright:accessibility\n")),(0,i.kt)("h3",{id:"command-line-arguments"},"Command line arguments"),(0,i.kt)("p",null,"The following command line arguments are available:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Option"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"--project -p"),(0,i.kt)("td",{parentName:"tr",align:null},"The name of the test project to add accessibility tests to"),(0,i.kt)("td",{parentName:"tr",align:null},"string")))),(0,i.kt)("h3",{id:"generator-output"},"Generator Output"),(0,i.kt)("p",null,"Scaffolding accessibility testing will add two dependencies to the ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json"),":"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/dequelabs/axe-core-npm/blob/develop/packages/playwright/README.md"},(0,i.kt)("inlineCode",{parentName:"a"},"@axe-core/playwright"))," - The accessibility test engine"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/axe-result-pretty-print"},(0,i.kt)("inlineCode",{parentName:"a"},"axe-result-pretty-print"))," - Result formatter")),(0,i.kt)("p",null,"Additionally, an example accessibility test will be generated, showcasing how to utilise both ",(0,i.kt)("em",{parentName:"p"},"axe")," and ",(0,i.kt)("em",{parentName:"p"},"axe-result-pretty-print")," to scan your application for accessibility violations:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Generated files"',title:'"Generated','files"':!0},".\n\u251c\u2500\u2500 apps\n\u2502   \u251c\u2500\u2500 <app-name>-e2e\n\u2502   \u2502   \u251c\u2500\u2500 src\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 axe-accessibility.spec.ts #Example accessibility test using playwright\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Visit the ",(0,i.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/playwright_accessibility_testing"},(0,i.kt)("inlineCode",{parentName:"a"},"Accessibility Testing"))," documentation for further details!"))))}m.isMDXComponent=!0},5748:function(t,e,n){n.r(e),n.d(e,{assets:function(){return u},contentTitle:function(){return o},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return c}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),s=["components"],l={},o=void 0,p={unversionedId:"getting_started/playwright/executor",id:"getting_started/playwright/executor",title:"executor",description:"@mands/nx-playwright:playwright-executor",source:"@site/docs/getting_started/playwright/executor.md",sourceDirName:"getting_started/playwright",slug:"/getting_started/playwright/executor",permalink:"/docs/getting_started/playwright/executor",draft:!1,tags:[],version:"current",frontMatter:{}},u={},c=[{value:"@mands/nx-playwright:playwright-executor",id:"mandsnx-playwrightplaywright-executor",level:3},{value:"Usage",id:"usage",level:2},{value:"Command line arguments",id:"command-line-arguments",level:3}],g={toc:c},d="wrapper";function m(t){var e=t.components,n=(0,r.Z)(t,s);return(0,i.kt)(d,(0,a.Z)({},g,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"mandsnx-playwrightplaywright-executor"},"@mands/nx-playwright:playwright-executor"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Enables you to execute your playwright tests"),(0,i.kt)("p",null,"The ",(0,i.kt)("em",{parentName:"p"},"playwright-executor")," executor is a third party executor provided by @mands and enables you to run your e2e tests. "),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("p",null,"The following command will run all of the playwright tests within your e2e test folder, as part of the executor it will automatically spin up a web server on local host for the corresponding application."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nx e2e <app-name>-e2e\n")),(0,i.kt)("h3",{id:"command-line-arguments"},"Command line arguments"),(0,i.kt)("p",null,"See the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/marksandspencer/nx-plugins/tree/main/packages/nx-playwright#execution-flags"},"@mands/nx-playwright")," plugin page for a list of up to date command line arguments")))}m.isMDXComponent=!0},5043:function(t,e,n){n.r(e),n.d(e,{assets:function(){return u},contentTitle:function(){return o},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return c}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),s=["components"],l={},o=void 0,p={unversionedId:"getting_started/playwright/init-deployment",id:"getting_started/playwright/init-deployment",title:"init-deployment",description:"@ensono-stacks/playwright:init-deployment",source:"@site/docs/getting_started/playwright/init-deployment.md",sourceDirName:"getting_started/playwright",slug:"/getting_started/playwright/init-deployment",permalink:"/docs/getting_started/playwright/init-deployment",draft:!1,tags:[],version:"current",frontMatter:{}},u={},c=[{value:"@ensono-stacks/playwright:init-deployment",id:"ensono-stacksplaywrightinit-deployment",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Usage",id:"usage",level:2},{value:"Generator Output",id:"generator-output",level:3}],g={toc:c},d="wrapper";function m(t){var e=t.components,n=(0,r.Z)(t,s);return(0,i.kt)(d,(0,a.Z)({},g,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"ensono-stacksplaywrightinit-deployment"},"@ensono-stacks/playwright:init-deployment"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Add Playwright E2E tests to your deployment pipelines"),(0,i.kt)("p",null,"The ",(0,i.kt)("em",{parentName:"p"},"init-deployment")," generator adds e2e testing to preexisting deployment pipelines, including test reporting and artefact uploads."),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"The ",(0,i.kt)("a",{parentName:"li",href:"/docs/getting_started/workspace/ensono-stacks-workspace#ensono-stacksworkspaceinit-deployment"},"@ensono-stacks/workspace:init-deployment")," has been executed, producing the required deployment files for the workspace")),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nx g @ensono-stacks/playwright:init-deployment\n")),(0,i.kt)("h3",{id:"generator-output"},"Generator Output"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml",metastring:"title=build/taskctl/tasks.yaml",title:"build/taskctl/tasks.yaml"},'# New e2e:ci task definition will be added to the tasks.yaml, defining what target should be ran for projects when executing the e2e task\ne2e:ci:\n    description: Run e2e tests in ci\n    command:\n      - npx nx affected --base="$BASE_SHA" --target=e2e --parallel=1\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml",metastring:"title=taskctl.yaml",title:"taskctl.yaml"},"# New e2e:ci task will be added to the taskctl pipeline, adding e2e tests following unit testing\n- task: e2e:ci\n    depends_on: test:ci\n- task: version:prod\n    depends_on: e2e:ci\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml",metastring:"build/azDevOps/azuredevops-stages.yaml","build/azDevOps/azuredevops-stages.yaml":!0},"# New test reporting steps will be added to the azuredevops pipeline\n- script: |-\n    # Install playwright added to setup step \n    npx playwright install --with-deps\n- task: PublishTestResults@2\n    # Configuration for publishing test results\n- task: PublishPipelineArtifact@1\n    # Configuration for publishing pipeline artefacts\n"))))}m.isMDXComponent=!0},6125:function(t,e,n){n.r(e),n.d(e,{assets:function(){return u},contentTitle:function(){return o},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return c}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),s=["components"],l={},o=void 0,p={unversionedId:"getting_started/playwright/init",id:"getting_started/playwright/init",title:"init",description:"@ensono-stacks/playwright:init",source:"@site/docs/getting_started/playwright/init.md",sourceDirName:"getting_started/playwright",slug:"/getting_started/playwright/init",permalink:"/docs/getting_started/playwright/init",draft:!1,tags:[],version:"current",frontMatter:{}},u={},c=[{value:"@ensono-stacks/playwright:init",id:"ensono-stacksplaywrightinit",level:3},{value:"Usage",id:"usage",level:2},{value:"Command line arguments",id:"command-line-arguments",level:3},{value:"Generator Output",id:"generator-output",level:3}],g={toc:c},d="wrapper";function m(t){var e=t.components,n=(0,r.Z)(t,s);return(0,i.kt)(d,(0,a.Z)({},g,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"ensono-stacksplaywrightinit"},"@ensono-stacks/playwright:init"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Create a playwright test project for your chosen application"),(0,i.kt)("p",null,"The ",(0,i.kt)("em",{parentName:"p"},"init")," generator creates a playwright project for the application you choose."),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nx g @ensono-stacks/playwright:init\n")),(0,i.kt)("p",null,"Upon calling the ",(0,i.kt)("em",{parentName:"p"},"init")," generator you will be presented with the following question:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"What app would you like to generate a test project for?",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"The name of the existing application to generate a test project for (named <app-name",">","-e2e)")))),(0,i.kt)("h3",{id:"command-line-arguments"},"Command line arguments"),(0,i.kt)("p",null,"The following command line arguments are available:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Option"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"--project"),(0,i.kt)("td",{parentName:"tr",align:null},"The name of the application to generate a test project for"),(0,i.kt)("td",{parentName:"tr",align:null},"string")))),(0,i.kt)("h3",{id:"generator-output"},"Generator Output"),(0,i.kt)("p",null,"The ",(0,i.kt)("em",{parentName:"p"},"init")," generator will create a new test project for your chosen application containing an example test and predefined configuration for the monorepo and the individual test projects.\nBy default the ",(0,i.kt)("em",{parentName:"p"},"init")," generator will configure both a baseline playwright configuration and an individual project base playwright configuration."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Generated files"',title:'"Generated','files"':!0},".\n\u251c\u2500\u2500 apps\n\u2502   \u251c\u2500\u2500 <app-name>-e2e\n\u2502   \u2502   \u251c\u2500\u2500 src\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 example.spec.ts #Example tests using playwright\n\u2502   \u2502   \u251c\u2500\u2500 playwright.config.ts #Example playwright configuration catering for multiple browsers and devices\n\u2502   \u2502   \u251c\u2500\u2500 project.json #Configuration for the project, including various NX targets\n\u2502   \u2502   \u251c\u2500\u2500 tsconfig.e2e.json #E2E typscript config file\n\u2502   \u2502   \u251c\u2500\u2500 tsconfig.json #typscript config file\n\u2502   \u2502   \u251c\u2500\u2500 .eslintrc.json #Linting configuration for the e2e project\n\u2514\u2500\u2500 playwright.config.base.ts\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Visit the ",(0,i.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/testing_with_playwright"},(0,i.kt)("inlineCode",{parentName:"a"},"Testing with Playwright"))," documentation for further details!"))))}m.isMDXComponent=!0},6710:function(t,e,n){n.r(e),n.d(e,{assets:function(){return f},contentTitle:function(){return y},default:function(){return N},frontMatter:function(){return h},metadata:function(){return k},toc:function(){return w}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),s=n(6125),l=n(5043),o=n(4742),p=n(4287),u=n(4102),c=n(5748),g=n(4866),d=n(5162),m=["components"],h={id:"ensono-stacks-playwright",title:"@ensono-stacks/playwright",sidebar_label:"@ensono-stacks/playwright",description:"Using the playwright with Ensono Stacks!",keywords:["Nx","monorepo","stacks","ensono","playwright","generator","executor"]},y=void 0,k={unversionedId:"getting_started/playwright/ensono-stacks-playwright",id:"getting_started/playwright/ensono-stacks-playwright",title:"@ensono-stacks/playwright",description:"Using the playwright with Ensono Stacks!",source:"@site/docs/getting_started/playwright/plugin-information.md",sourceDirName:"getting_started/playwright",slug:"/getting_started/playwright/ensono-stacks-playwright",permalink:"/docs/getting_started/playwright/ensono-stacks-playwright",draft:!1,tags:[],version:"current",frontMatter:{id:"ensono-stacks-playwright",title:"@ensono-stacks/playwright",sidebar_label:"@ensono-stacks/playwright",description:"Using the playwright with Ensono Stacks!",keywords:["Nx","monorepo","stacks","ensono","playwright","generator","executor"]},sidebar:"docs",previous:{title:"@ensono-stacks/rest-client",permalink:"/docs/getting_started/rest-client/ensono-stacks-rest-client"},next:{title:"@ensono-stacks/cypress",permalink:"/docs/getting_started/cypress/ensono-stacks-cypress"}},f={},w=[{value:"Setting up @ensono-stacks/playwright",id:"setting-up-ensono-stacksplaywright",level:2},{value:"Executors and Generators",id:"executors-and-generators",level:2},{value:"Generators",id:"generators",level:3},{value:"Executors",id:"executors",level:3}],v={toc:w},b="wrapper";function N(t){var e=t.components,n=(0,r.Z)(t,m);return(0,i.kt)(b,(0,a.Z)({},v,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Using the ",(0,i.kt)("inlineCode",{parentName:"p"},"@ensono-stacks/playwright")," plugin can help you get started with testing using playwright, with it's comprehensive feature set this plugin helps you capitalise on those features by accelerating your setup process and providing examples to get you started. "),(0,i.kt)("p",null,"Additionally, playwright tests can be added to your deployment pipelines through the various deployment generators."),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Visit the ",(0,i.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/frontend_testing_in_nx"},"Frontend Testing in an Nx monorepo")," and ",(0,i.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/testing_with_playwright"},"Testing with Playwright")," user guides for more information!")),(0,i.kt)("h2",{id:"setting-up-ensono-stacksplaywright"},"Setting up @ensono-stacks/playwright"),(0,i.kt)("p",null,"Install the ",(0,i.kt)("inlineCode",{parentName:"p"},"@ensono-stacks/playwright")," plugin with the following command:"),(0,i.kt)(g.Z,{mdxType:"Tabs"},(0,i.kt)(d.Z,{value:"npm",label:"npm",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"npm install --save-dev @ensono-stacks/playwright@latest\n"))),(0,i.kt)(d.Z,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add --dev @ensono-stacks/playwright@latest\n")))),(0,i.kt)("h2",{id:"executors-and-generators"},"Executors and Generators"),(0,i.kt)("p",null,"To see a list of the plugin capabilities run the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nx list @ensono-stacks/playwright\n")),(0,i.kt)("p",null,"View additional information about a plugin capability through the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nx g @ensono-stacks/playwright:[generator-executor-name] --help\n")),(0,i.kt)("h3",{id:"generators"},"Generators"),(0,i.kt)(s.default,{mdxType:"InitGenerator"}),(0,i.kt)(l.default,{mdxType:"InitDeploy"}),(0,i.kt)(o.default,{mdxType:"AccessibilityGenerator"}),(0,i.kt)(p.default,{mdxType:"Visual"}),(0,i.kt)(u.default,{mdxType:"VisualDeploy"}),(0,i.kt)("h3",{id:"executors"},"Executors"),(0,i.kt)(c.default,{mdxType:"Executor"}))}N.isMDXComponent=!0},4102:function(t,e,n){n.r(e),n.d(e,{assets:function(){return u},contentTitle:function(){return o},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return c}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),s=["components"],l={},o=void 0,p={unversionedId:"getting_started/playwright/visual-regression-deployment",id:"getting_started/playwright/visual-regression-deployment",title:"visual-regression-deployment",description:"@ensono-stacks/playwright:visual-regression-deployment",source:"@site/docs/getting_started/playwright/visual-regression-deployment.md",sourceDirName:"getting_started/playwright",slug:"/getting_started/playwright/visual-regression-deployment",permalink:"/docs/getting_started/playwright/visual-regression-deployment",draft:!1,tags:[],version:"current",frontMatter:{}},u={},c=[{value:"@ensono-stacks/playwright:visual-regression-deployment",id:"ensono-stacksplaywrightvisual-regression-deployment",level:3},{value:"Usage",id:"usage",level:2},{value:"Command line arguments",id:"command-line-arguments",level:3},{value:"Generator Output",id:"generator-output",level:3},{value:"Playwright with native visual comparisons",id:"playwright-with-native-visual-comparisons",level:4},{value:"Playwright with Applitools Eyes",id:"playwright-with-applitools-eyes",level:4}],g={toc:c},d="wrapper";function m(t){var e=t.components,n=(0,r.Z)(t,s);return(0,i.kt)(d,(0,a.Z)({},g,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"ensono-stacksplaywrightvisual-regression-deployment"},"@ensono-stacks/playwright:visual-regression-deployment"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Configure visual regression testing within your deployment pipeline"),(0,i.kt)("p",null,"The ",(0,i.kt)("em",{parentName:"p"},"visual-regression-deployment")," generator configures your pipeline to enable visual regression testing either natively, or through a cloud based provider."),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nx g @ensono-stacks/playwright:visual-regression-deployment\n")),(0,i.kt)("p",null,"Upon calling the ",(0,i.kt)("em",{parentName:"p"},"visual-regression-deployment")," generator you will be presented with a number of options:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"What type of visual regression tests would you like to use?",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"native"),(0,i.kt)("li",{parentName:"ul"},"applitools")))),(0,i.kt)("p",null,"You should select the type of visual regression tests which you created through the ",(0,i.kt)("a",{parentName:"p",href:"/docs/getting_started/playwright/ensono-stacks-playwright#ensono-stacksplaywrightvisual-regression"},"@ensono-stacks/playwright:visual-regression")," generator."),(0,i.kt)("h3",{id:"command-line-arguments"},"Command line arguments"),(0,i.kt)("p",null,"The following command line arguments are available:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Option"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Accepted Values"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"--type, -t"),(0,i.kt)("td",{parentName:"tr",align:null},"Method used to conduct visual testing"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},'[choices: "native", "applitools"]'),(0,i.kt)("td",{parentName:"tr",align:null},"none")))),(0,i.kt)("h3",{id:"generator-output"},"Generator Output"),(0,i.kt)("h4",{id:"playwright-with-native-visual-comparisons"},"Playwright with native visual comparisons"),(0,i.kt)("p",null,"Opting to scaffold ",(0,i.kt)("strong",{parentName:"p"},"native")," visual testing will make a number of amendments to your test projects configuration:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Generated files"',title:'"Generated','files"':!0},".\n\u251c\u2500\u2500 build\n\u2502   \u251c\u2500\u2500 azDevOps\n\u2502   \u2502   \u251c\u2500\u2500 azuredevops-updatesnapshots.yaml #Pipeline to capture and update baseline images within the CI\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="build/taskctl/tasks.yaml"',title:'"build/taskctl/tasks.yaml"'},'# New update snapshots task definition to update snapshots for all affected projects\ne2e:updatesnapshots:\n    description: Run e2e snapshot updates in ci\n    command:\n      - npx nx affected --base="$BASE_SHA" --target=e2e --parallel=1\n        --skip-nx-cache --update-snapshots --grep @visual-regression\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="taskctl.yaml"',title:'"taskctl.yaml"'},"# Update snapshots task added to taskctl.yaml which can be called by adding a comment to pull requests\nupdatesnapshots:\n    - task: e2e:updatesnapshots\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Visit the ",(0,i.kt)("a",{parentName:"p",href:"../../testing/testing_in_nx/playwright_visual_testing#updating-your-baseline-images"},"Updating your baseline images\u200b")," documentation for further details!")),(0,i.kt)("h4",{id:"playwright-with-applitools-eyes"},"Playwright with Applitools Eyes"),(0,i.kt)("p",null,"Opting to scaffold visual testing with ",(0,i.kt)("strong",{parentName:"p"},"applitools")," will make a small change your test projects configuration:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="build/azDevOps/azuredevops-stages.yaml"',title:'"build/azDevOps/azuredevops-stages.yaml"'},"- task: AzureCLI@2\n    displayName: build_deployment_${{ parameters.environment }}\n        env:\n            GH_TOKEN: $(GH_TOKEN)\n            APPLITOOLS_API_KEY: $(APPLITOOLS_API_KEY) # API key for applitools api added\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Visit the ",(0,i.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/playwright_visual_testing_applitools_eyes"},(0,i.kt)("inlineCode",{parentName:"a"},"Playwright with Applitools Eyes"))," documentation for further details!"))))}m.isMDXComponent=!0},4287:function(t,e,n){n.r(e),n.d(e,{assets:function(){return u},contentTitle:function(){return o},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return c}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),s=["components"],l={},o=void 0,p={unversionedId:"getting_started/playwright/visual-regression",id:"getting_started/playwright/visual-regression",title:"visual-regression",description:"@ensono-stacks/playwright:visual-regression",source:"@site/docs/getting_started/playwright/visual-regression.md",sourceDirName:"getting_started/playwright",slug:"/getting_started/playwright/visual-regression",permalink:"/docs/getting_started/playwright/visual-regression",draft:!1,tags:[],version:"current",frontMatter:{}},u={},c=[{value:"@ensono-stacks/playwright:visual-regression",id:"ensono-stacksplaywrightvisual-regression",level:3},{value:"Usage",id:"usage",level:2},{value:"Command line arguments",id:"command-line-arguments",level:3},{value:"Generator Output",id:"generator-output",level:3},{value:"Playwright with native visual comparisons",id:"playwright-with-native-visual-comparisons",level:4},{value:"Playwright with Applitools Eyes",id:"playwright-with-applitools-eyes",level:4}],g={toc:c},d="wrapper";function m(t){var e=t.components,n=(0,r.Z)(t,s);return(0,i.kt)(d,(0,a.Z)({},g,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"ensono-stacksplaywrightvisual-regression"},"@ensono-stacks/playwright:visual-regression"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Adds native or cloud based visual regression to your test suite"),(0,i.kt)("p",null,"The ",(0,i.kt)("em",{parentName:"p"},"visual-regression")," generator provides you with the option to scaffold visual regression tests and configuration through a cloud based provider or Playwrights native visual comparison API."),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nx g @ensono-stacks/playwright:visual-regression\n")),(0,i.kt)("p",null,"Upon calling the ",(0,i.kt)("em",{parentName:"p"},"visual-regression")," generator you will be presented with a number of options:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"What type of visual regression tests would you like to use?",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"native: Generate visual regression tests using Playwrights native ",(0,i.kt)("a",{parentName:"li",href:"https://playwright.dev/docs/test-snapshots"},"visual comparison api")),(0,i.kt)("li",{parentName:"ul"},"applitools: Generate visual regression tests using the ",(0,i.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/@applitools/eyes-playwright"},(0,i.kt)("inlineCode",{parentName:"a"},"@applitools/eyes-playwright"))," plugin and scaffold an example visual regression test batch")))),(0,i.kt)("h3",{id:"command-line-arguments"},"Command line arguments"),(0,i.kt)("p",null,"The following command line arguments are available:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Option"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Accepted Values"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"--project, -p"),(0,i.kt)("td",{parentName:"tr",align:null},"The name of the existing playwright test app to enhance"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"--type, -t"),(0,i.kt)("td",{parentName:"tr",align:null},"Method used to conduct visual testing"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},'[choices: "native", "applitools"]'),(0,i.kt)("td",{parentName:"tr",align:null},"none")))),(0,i.kt)("h3",{id:"generator-output"},"Generator Output"),(0,i.kt)("h4",{id:"playwright-with-native-visual-comparisons"},"Playwright with native visual comparisons"),(0,i.kt)("p",null,"Opting to scaffold ",(0,i.kt)("strong",{parentName:"p"},"native")," visual testing will make a number of amendments to your test projects configuration:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"../../testing/testing_in_nx/playwright_visual_testing#snapshot-configuration"},"playwright.config.ts snapshot configuration"),": Configuration for your visual tests"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"../../testing/testing_in_nx/playwright_visual_testing#sample-tests"},"playwright-visual-regression.spec.ts"),": Sample test showcasing how to perform visual testing using playwrights native ",(0,i.kt)("a",{parentName:"li",href:"https://playwright.dev/docs/test-snapshots"},"visual comparison api"),"."),(0,i.kt)("li",{parentName:"ol"},"project.json: Additional task set up to enable you to run your visual regression tests using the playwright:jammy container")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Generated files"',title:'"Generated','files"':!0},".\n\u251c\u2500\u2500 apps\n\u2502   \u251c\u2500\u2500 <app-name>-e2e\n\u2502   \u2502   \u251c\u2500\u2500 src\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 playwright-visual-regression.spec.ts #Example visual test using playwright\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Visit the ",(0,i.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/playwright_visual_testing"},(0,i.kt)("inlineCode",{parentName:"a"},"Playwright with visual comparisons"))," documentation for further details!")),(0,i.kt)("h4",{id:"playwright-with-applitools-eyes"},"Playwright with Applitools Eyes"),(0,i.kt)("p",null,"Opting to scaffold visual testing with ",(0,i.kt)("strong",{parentName:"p"},"applitools")," will make a number of amendments to your test projects configuration:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/@applitools/eyes-playwright"},"@applitools/eyes-playwright"),": Dependency added to ",(0,i.kt)("inlineCode",{parentName:"li"},"package.json")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"/docs/testing/testing_in_nx/playwright_visual_testing_applitools_eyes#applitools-eyes-with-playwright"},"playwright.config.ts project configuration"),": Standalone project configuration to isolate visual tests with Applitools Eyes"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"/docs/testing/testing_in_nx/playwright_visual_testing_applitools_eyes#sample-tests"},"applitools-eyes-grid.spec.ts"),": Sample test showcasing how to perform visual testing using the Applitools Eyes Grid.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Generated files"',title:'"Generated','files"':!0},".\n\u251c\u2500\u2500 apps\n\u2502   \u251c\u2500\u2500 <app-name>-e2e\n\u2502   \u2502   \u251c\u2500\u2500 src\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 applitools-eyes-grid.spec.ts #Example visual test using playwright\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Visit the ",(0,i.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/playwright_visual_testing_applitools_eyes"},(0,i.kt)("inlineCode",{parentName:"a"},"Playwright with Applitools Eyes"))," documentation for further details!"))))}m.isMDXComponent=!0}}]);