"use strict";(self.webpackChunkstacks=self.webpackChunkstacks||[]).push([[406],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return g}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=s(n),d=r,g=c["".concat(p,".").concat(d)]||c[d]||m[d]||i;return n?a.createElement(g,o(o({ref:t},u),{},{components:n})):a.createElement(g,o({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3884:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return p},default:function(){return g},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return c}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],l={id:"azure-container-apps",title:"Azure Container Apps",sidebar_label:"Getting started with Azure Container Apps",description:"How to get started with Azure Container Apps in Stacks",keywords:["Infrastructure","azure","Azure Container Apps","stacks","ensono"]},p=void 0,s={unversionedId:"getting_started/azure-container-app/azure-container-apps",id:"getting_started/azure-container-app/azure-container-apps",title:"Azure Container Apps",description:"How to get started with Azure Container Apps in Stacks",source:"@site/docs/getting_started/azure-container-app/ACA.md",sourceDirName:"getting_started/azure-container-app",slug:"/getting_started/azure-container-app/azure-container-apps",permalink:"/docs/getting_started/azure-container-app/azure-container-apps",draft:!1,tags:[],version:"current",frontMatter:{id:"azure-container-apps",title:"Azure Container Apps",sidebar_label:"Getting started with Azure Container Apps",description:"How to get started with Azure Container Apps in Stacks",keywords:["Infrastructure","azure","Azure Container Apps","stacks","ensono"]},sidebar:"docs",previous:{title:"Azure DevOps",permalink:"/docs/infrastructure/azure/pipelines/azure_devops"},next:{title:"Ensono Stacks Testing Frameworks",permalink:"/docs/testing/cli_testing_frameworks"}},u={},c=[{value:"Azure Container Apps Components / Infrastucture Overview",id:"azure-container-apps-components--infrastucture-overview",level:2},{value:"Azure Container Options Comparison",id:"azure-container-options-comparison",level:2},{value:"Notes",id:"notes",level:3},{value:"CICD Strategy",id:"cicd-strategy",level:2},{value:"Option 1 - Container App Enviornment and Container App deployment via Infrastructure pipeline",id:"option-1---container-app-enviornment-and-container-app-deployment-via-infrastructure-pipeline",level:3},{value:"Option 2 - Container App Environment deployment via Infrastructure pipeline, Container App deployment via Application pipeline",id:"option-2---container-app-environment-deployment-via-infrastructure-pipeline-container-app-deployment-via-application-pipeline",level:3},{value:"Recommendation",id:"recommendation",level:3},{value:"ACA vs AKS: A Comparative Analysis",id:"aca-vs-aks-a-comparative-analysis",level:2},{value:"Upgrade Path: Azure Container Apps to Azure Kubernetes Service",id:"upgrade-path-azure-container-apps-to-azure-kubernetes-service",level:2}],m={toc:c},d="wrapper";function g(e){var t=e.components,l=(0,r.Z)(e,o);return(0,i.kt)(d,(0,a.Z)({},m,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Azure Container Apps(ACA) is a fully managed serverless container service for building and deploying modern apps at scale - without managing infrastructure. It is builds on top of Kubernetes, offering a fully managed experience for deploying containerized applications without requiring direct access to Kubernetes APIs or cluster management."),(0,i.kt)("p",null,"Common uses of Azure Container Apps include:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Deploying API endpoints"),(0,i.kt)("li",{parentName:"ul"},"Hosting background processing jobs"),(0,i.kt)("li",{parentName:"ul"},"Handling event-driven processing"),(0,i.kt)("li",{parentName:"ul"},"Running microservices")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"aca-usecase.png",src:n(7776).Z,width:"2416",height:"907"})),(0,i.kt)("h2",{id:"azure-container-apps-components--infrastucture-overview"},"Azure Container Apps Components / Infrastucture Overview"),(0,i.kt)("p",null,"Azure Container Apps consists of two primary components:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Container Apps Environment"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"This component allows you to specify the infrastructure for deploying your container app."),(0,i.kt)("li",{parentName:"ul"},"A secure boundary around one or more container apps and jobs."),(0,i.kt)("li",{parentName:"ul"},"Defines shared settings for networking, logging, and other services."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Container App"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"A Container App hosts a single, independent microservice and includes its desired state configuration."),(0,i.kt)("li",{parentName:"ul"},"Utilizes containers from public registries (e.g., Docker Hub) or private registries (e.g., Azure Container Registry).")))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"aca-components.png",src:n(2062).Z,width:"1512",height:"962"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"More settings"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Ingress"),": Azure Container Apps supports both HTTP and HTTPS ingress. The ingress controls how external traffic reaches your container apps and allows you to configure custom domains, SSL/TLS certificates, authentication, and authorization."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Networking rules"),": You can define networking rules to manage how your application communicates internally and with the outside world. This includes securing connections and integrating with private networks for enhanced security."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Persistent storage"),": Azure Container Apps allows you to attach Azure Storage accounts as volumes in your containers, enabling your application to access persistent storage for data that needs to be preserved across container instances or revisions."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Secrets management"),": If your application uses secrets, you can inject them into your containers either from Azure Key Vault or defined directly in the Container App settings. This ensures secure storage and access to sensitive information."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Managed identity"),": You can assign a managed identity to your container app, allowing it to securely access other Azure services without the need for explicit credentials."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Logging and monitoring"),": Azure Container Apps integrates with Azure Monitor for logging and monitoring. You can configure log collection and set up alerts to gain insights into your application's performance and health."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Health probes"),": You can define liveness and readiness probes to monitor the health of your containers. These probes help ensure that your application is functioning correctly and can handle incoming requests.")))),(0,i.kt)("h2",{id:"azure-container-options-comparison"},"Azure Container Options Comparison"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Feature/Service"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Azure Container Apps"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Azure App Service"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Azure Container Instances"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Azure Kubernetes Service"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Azure Functions"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Primary Use Case"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Serverless microservices and jobs"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Web applications and APIs"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Single pod of containers on demand"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Full Kubernetes orchestration"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Event-driven functions")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Kubernetes-based"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes (abstracted)"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes (full access)"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Serverless"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Partially"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Event-driven scaling"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Limited"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Manual/custom"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Direct K8s API access"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Microservices support"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Strong"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Limited"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Limited"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Strong"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Limited")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Web-optimized"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Can be configured"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Partially")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Container support"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Yes (as option)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Managed service"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Fully managed"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Fully managed"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Fully managed"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Managed control plane"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Fully managed")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Best for"),(0,i.kt)("td",{parentName:"tr",align:"center"},"General-purpose containers, microservices"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Web apps, APIs"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Low-level container instances"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Teams requiring full K8s control"),(0,i.kt)("td",{parentName:"tr",align:"center"},"FaaS, event-driven apps")))),(0,i.kt)("h3",{id:"notes"},"Notes"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"This table provides a high-level comparison of the main features and use cases for each Azure container service."),(0,i.kt)("li",{parentName:"ul"},"For detailed information on each service, refer to the official Azure documentation.")),(0,i.kt)("h2",{id:"cicd-strategy"},"CICD Strategy"),(0,i.kt)("p",null,"The deployment strategy can be segmented into two parts:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Infrastructure Deployment"),(0,i.kt)("li",{parentName:"ul"},"App Deployment")),(0,i.kt)("h3",{id:"option-1---container-app-enviornment-and-container-app-deployment-via-infrastructure-pipeline"},"Option 1 - Container App Enviornment and Container App deployment via Infrastructure pipeline"),(0,i.kt)("p",null,"This approach involves deploying both the Container App Environment and Container App through the infrastructure pipeline, with application code deployed to the Container App via a separate application deployment pipeline."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"cicd-option1.png",src:n(9496).Z,width:"2196",height:"861"})),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"STACKS-INFRASTRUCTURE-ACA\n\u251c\u2500\u2500 .github              # GitHub-specific configurations and workflows\n\u251c\u2500\u2500 cicd\n\u2502   \u2514\u2500\u2500 build            # CI/CD build configurations\n\u2502       \u251c\u2500\u2500 azDevOps     # Azure DevOps specific build configurations\n\u2502       \u251c\u2500\u2500 config       # Configuration files for the build process\n\u2502       \u251c\u2500\u2500 scripts      # Build-related scripts\n\u2502       \u2514\u2500\u2500 taskctl      # TaskCTL configurations for the build process\n\u251c\u2500\u2500 deploy\n\u2502   \u2514\u2500\u2500 azure            # Terraform configurations for the Core Infra deployment including Container App\n\u251c\u2500\u2500 src\n\u2502   \u251c\u2500\u2500 app              # Application source code\n\u2502   \u2514\u2500\u2500 aca-vars.yml     # Variables specific to Azure Container App\n\u2502   \u2514\u2500\u2500 deploy-aca.yml   # Deployment configuration for Azure Container App\n\u251c\u2500\u2500 .gitattributes       # Git attributes file\n\u251c\u2500\u2500 .gitignore           # Git ignore file\n\u251c\u2500\u2500 LICENSE              # License file for the project\n\u251c\u2500\u2500 README.md            # Main readme file with project documentation\n\u2514\u2500\u2500 taskctl.yaml         # TaskCTL configuration file\n")),(0,i.kt)("p",null,"Pro's"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Centralized infrastructure code management.")),(0,i.kt)("p",null,"Con's"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Requires initial Container App provisioning with a public image, creating an unnecessary first revision"),(0,i.kt)("li",{parentName:"ul"},"Potential discrepancies between infrastructure-defined image tags and application deployment updates"),(0,i.kt)("li",{parentName:"ul"},"Additional maintenance overhead to keep infrastructure and application deployment configurations in sync")),(0,i.kt)("h3",{id:"option-2---container-app-environment-deployment-via-infrastructure-pipeline-container-app-deployment-via-application-pipeline"},"Option 2 - Container App Environment deployment via Infrastructure pipeline, Container App deployment via Application pipeline"),(0,i.kt)("p",null,"This approach separates the deployment of the Container App Environment and the Container App itself:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Infrastructure Deployment Pipeline:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Deploys Container App Environment and other required resources."),(0,i.kt)("li",{parentName:"ul"},"Does not provision the Container App at this stage."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Application Deployment Pipeline:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Builds application code and publishes the image to the container registry."),(0,i.kt)("li",{parentName:"ul"},"Provisions the Container App using Terraform with the newly created image.")))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"cicd-option2.png",src:n(5617).Z,width:"1880",height:"953"})),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"STACKS-INFRASTRUCTURE-ACA\n\u251c\u2500\u2500 .github              # GitHub-specific configurations and workflows\n\u251c\u2500\u2500 cicd\n\u2502   \u2514\u2500\u2500 build            # CI/CD build configurations\n\u2502       \u251c\u2500\u2500 azDevOps     # Azure DevOps specific build configurations\n\u2502       \u251c\u2500\u2500 config       # Configuration files for the build process\n\u2502       \u251c\u2500\u2500 scripts      # Build-related scripts\n\u2502       \u2514\u2500\u2500 taskctl      # TaskCTL configurations for the build process\n\u251c\u2500\u2500 deploy\n\u2502   \u2514\u2500\u2500 azure            # Terraform configurations for the Core Infra deployment excluding Container App\n\u251c\u2500\u2500 src\n\u2502   \u251c\u2500\u2500 app              # Application source code\n\u2502   \u2514\u2500\u2500 terraform        # Terraform configurations for the application (Container App)\n\u2502   \u2514\u2500\u2500 aca-vars.yml     # Variables specific to Azure Container App\n\u2502   \u2514\u2500\u2500 deploy-aca.yml   # Deployment configuration for Azure Container App\n\u251c\u2500\u2500 .gitattributes       # Git attributes file\n\u251c\u2500\u2500 .gitignore           # Git ignore file\n\u251c\u2500\u2500 LICENSE              # License file for the project\n\u251c\u2500\u2500 README.md            # Main readme file with project documentation\n\u2514\u2500\u2500 taskctl.yaml         # TaskCTL configuration file\n")),(0,i.kt)("p",null,"Pro's"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Eliminates the need for initial Container App provisioning with a public image."),(0,i.kt)("li",{parentName:"ul"},"Avoids unnecessary revisions in the Container App."),(0,i.kt)("li",{parentName:"ul"},"Facilitates easier maintenance and version control of container images."),(0,i.kt)("li",{parentName:"ul"},"Provides loose coupling in Container App deployment."),(0,i.kt)("li",{parentName:"ul"},"Allows for more precise control over image versions used in deployments."),(0,i.kt)("li",{parentName:"ul"},"Aligns infrastructure provisioning more closely with application lifecycle."),(0,i.kt)("li",{parentName:"ul"},"Enables application-specific configurations: Each individual Container App can have different liveness and readiness probes, scaling rules, and ingress settings (such as ingress port) that are more closely aligned with application requirements. This allows each Container App team to define these settings independently in their application deployment pipeline, providing greater flexibility and customization.")),(0,i.kt)("p",null,"Con's"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Requires separate management of Terraform code for each individual Container App")),(0,i.kt)("h3",{id:"recommendation"},"Recommendation"),(0,i.kt)("p",null,"We recommend implementing Option 2: Container App Environment deployment via Infrastructure pipeline and Container App deployment via Application pipeline. This approach provides the flexibility to manage infrastructure and application deployments separately while optimizing the deployment process for Azure Container Apps.\nThis recommendation will result in a more streamlined deployment process, eliminating unnecessary Container App revisions and allowing for tighter integration between application builds and deployments."),(0,i.kt)("p",null,"However, it's important to note that this approach will require additional effort in managing separate Terraform configurations for each Container App. To mitigate this challenge, we will utilize the existing Azure Container Apps Terraform module developed by Ensono, which is available ",(0,i.kt)("a",{parentName:"p",href:"https://registry.terraform.io/modules/Ensono/aca/azurerm/latest"},"here"),"."),(0,i.kt)("p",null,"This pre-built module will help reduce duplication and ease maintenance across multiple Container Apps, standardizing our Container App deployments and reducing the overhead of managing individual Terraform configurations.\nBy leveraging this existing module in our recommended approach, we can achieve a more efficient and manageable deployment strategy for our Azure Container Apps while maintaining the flexibility to evolve both infrastructure and applications independently."),(0,i.kt)("h2",{id:"aca-vs-aks-a-comparative-analysis"},"ACA vs AKS: A Comparative Analysis"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Feature"),(0,i.kt)("th",{parentName:"tr",align:null},"Azure Kubernetes Service (AKS)",(0,i.kt)("br",null),"Infrastructure focus, higher flexibility"),(0,i.kt)("th",{parentName:"tr",align:null},"Azure Container Apps (ACA)",(0,i.kt)("br",null),"Application focus, infrastructure abstraction"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Primary Offering"),(0,i.kt)("td",{parentName:"tr",align:null},"Azure-managed Kubernetes environment with comprehensive API access and granular cluster management, utilizing a node-centric pricing structure"),(0,i.kt)("td",{parentName:"tr",align:null},"Fully-managed serverless abstraction on top of Kubernetes infrastructure, purpose built for managing and scaling event-driven microservices with a consumption-based pricing model")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Key Strengths"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2022 Aligned with upstream Kubernetes, offering managed control plane",(0,i.kt)("br",null),"\u2022 Operations flexibility with advanced customization",(0,i.kt)("br",null),"\u2022 Ideal for teams with Kubernetes expertise"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2022 Platform-as-a-Service experience with serverless scale",(0,i.kt)("br",null),"\u2022 Enhanced developer efficiency through reduced operational complexity",(0,i.kt)("br",null),"\u2022 Optimized for Linux-based, general-purpose stateless container deployments")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Deployment Approach"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2022 Admins set up node-based AKS clusters via Azure Portal, CLI, or IaC",(0,i.kt)("br",null),"\u2022 Developers use Kubernetes manifests or Helm for container deployment in isolated namespaces"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2022 Direct container deployment as Container Apps through Azure Portal, CLI, or IaC",(0,i.kt)("br",null),"\u2022 No Kubernetes manifest knowledge required",(0,i.kt)("br",null),"\u2022 Apps grouped in shared environments, similar to Kubernetes namespaces")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Open Source Tools"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2022 Extendable with various cluster add-ons (e.g., Dapr, KEDA, Service Mesh)",(0,i.kt)("br",null),"\u2022 Supports custom component installation using Kubernetes manifests"),(0,i.kt)("td",{parentName:"tr",align:null},"Includes opinionated platform capabilities powered by CNCF projects including Dapr, KEDA and Envoy which are fully platform-managed and supported",(0,i.kt)("br",null),"\u2022 Envoy: managed ingress and traffic splitting",(0,i.kt)("br",null),"\u2022 KEDA: managed, event-driven autoscale",(0,i.kt)("br",null),"\u2022 Dapr: codified best practices for microservices")))),(0,i.kt)("h2",{id:"upgrade-path-azure-container-apps-to-azure-kubernetes-service"},"Upgrade Path: Azure Container Apps to Azure Kubernetes Service"),(0,i.kt)("p",null,"High-level upgrade path from Azure Container Apps to Azure Kubernetes Service."),(0,i.kt)("p",null,"Application code and container images remain largely unchanged in this migration. The primary focus is on the infrastructure and deployment mechanisms, not the application internals. Minor adjustments to application configurations may be needed to align with Kubernetes-specific environment variables or service discovery methods."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Assessment and Planning"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Review current microservices architecture and ACA-specific features in use"),(0,i.kt)("li",{parentName:"ul"},"Identify necessary Kubernetes features for AKS migration"),(0,i.kt)("li",{parentName:"ul"},"Plan changes for CI/CD pipelines"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Infrastructure Preparation"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Set up AKS cluster (using Terraform or Azure CLI)"),(0,i.kt)("li",{parentName:"ul"},"Configure networking (VNets, subnets)"),(0,i.kt)("li",{parentName:"ul"},"Set up or integrate existing Azure Container Registry (ACR)"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Kubernetes Manifest Creation / Service migration"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Begin with non-critical services"),(0,i.kt)("li",{parentName:"ul"},"Convert ACA configurations to Kubernetes manifests (Deployments, Services, Ingress)"),(0,i.kt)("li",{parentName:"ul"},"Set up Dapr on AKS if previously used in ACA"),(0,i.kt)("li",{parentName:"ul"},"Translate ACA scaling rules to Kubernetes Horizontal Pod Autoscaler (HPA)"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"CI/CD Pipeline Updates"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Update pipelines to deploy to AKS"),(0,i.kt)("li",{parentName:"ul"},"Implement Kubernetes-specific deployment strategies (rolling updates, blue-green deployments)"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Testing"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Thoroughly test each migrated service in AKS environment"),(0,i.kt)("li",{parentName:"ul"},"Perform load testing to ensure performance"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Gradual Transition and Decommissioning"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Decommission ACA environment after successful migration and stabilization")))),(0,i.kt)("p",null,"Additional points to consider during upgrade/ migration:-"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Networking and Service Discovery"),(0,i.kt)("li",{parentName:"ul"},"State and Data Migration"),(0,i.kt)("li",{parentName:"ul"},"Monitoring and Logging"),(0,i.kt)("li",{parentName:"ul"},"Security"),(0,i.kt)("li",{parentName:"ul"},"Secrets Management")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Note:")," This upgrade path is a high-level guide. The actual process may vary based on specific implementation details and requirements. Thorough planning, gradual migration, and extensive testing at each step are crucial for a successful transition."))}g.isMDXComponent=!0},2062:function(e,t,n){t.Z=n.p+"assets/images/aca-components-2343d062a3e31be5d05b23dc189227f4.png"},7776:function(e,t,n){t.Z=n.p+"assets/images/aca-usecase-f867030eb1aa5d3e43f119091c39ea97.png"},9496:function(e,t,n){t.Z=n.p+"assets/images/cicd-option1-7e175556020409e782524f639c7b51a5.png"},5617:function(e,t,n){t.Z=n.p+"assets/images/cicd-option2-f65c2e90f9f55d51ee0bd1c6f85ac152.png"}}]);