"use strict";(self.webpackChunkstacks=self.webpackChunkstacks||[]).push([[6752],{4463:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var s=t(4848),r=t(8453);const a={id:"create_project_netcore",title:"Create REST API with CQRS project",hide_title:!0,sidebar_label:"Create REST API with CQRS project",hide_table_of_contents:!0,description:"Create .NET Core REST API application with CQRS from a template",keywords:[".net core","rest api","cqrs","example","template","azure","application insights","cosmos db","build","run","application","configure","docker","tests","github"]},i=void 0,o={id:"workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore",title:"Create REST API with CQRS project",description:"Create .NET Core REST API application with CQRS from a template",source:"@site/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore.md",sourceDirName:"workloads/azure/backend/netcore/quickstart/web_api_cqrs",slug:"/workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore",permalink:"/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/create_project_netcore",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"create_project_netcore",title:"Create REST API with CQRS project",hide_title:!0,sidebar_label:"Create REST API with CQRS project",hide_table_of_contents:!0,description:"Create .NET Core REST API application with CQRS from a template",keywords:[".net core","rest api","cqrs","example","template","azure","application insights","cosmos db","build","run","application","configure","docker","tests","github"]},sidebar:"docs",previous:{title:"Build & Run REST API",permalink:"/docs/workloads/azure/backend/netcore/quickstart/web_api/build_and_run_project_netcore"},next:{title:"Configure REST API with CQRS project",permalink:"/docs/workloads/azure/backend/netcore/quickstart/web_api_cqrs/configure_project_netcore"}},c={},l=[{value:"Create a project",id:"create-a-project",level:2},{value:"Install the package",id:"install-the-package",level:3},{value:"stacks-webapi",id:"stacks-webapi",level:3},{value:"stacks-cqrs-app",id:"stacks-cqrs-app",level:3},{value:"stacks-az-func-cosmosdb-worker",id:"stacks-az-func-cosmosdb-worker",level:3},{value:"stacks-az-func-asb-listener",id:"stacks-az-func-asb-listener",level:3},{value:"stacks-asb-worker",id:"stacks-asb-worker",level:3},{value:"Uninstalling the templates",id:"uninstalling-the-templates",level:3},{value:"Create a new project",id:"create-a-new-project",level:3},{value:"Setting the database option",id:"setting-the-database-option",level:3},{value:"Setting event publishing options",id:"setting-event-publishing-options",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"create-a-project",children:"Create a project"}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Installing/uninstalling the package"}),(0,s.jsx)(n.h3,{id:"install-the-package",children:"Install the package"}),(0,s.jsxs)(n.p,{children:["Access Ensono.Stacks.Template package page in Nuget ",(0,s.jsx)(n.a,{href:"https://www.nuget.org/packages/Amido.Stacks.Templates/",children:"here"}),"\nCopy and execute the command displayed in the page (if you want to get the latest version).\nFor example"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Run the command to install the package"',children:"dotnet new install Ensono.Stacks.Templates\n"})}),(0,s.jsx)(n.p,{children:"Once installed, you obtain 7 templates that can be used"}),(0,s.jsx)(n.h3,{id:"stacks-webapi",children:"stacks-webapi"}),(0,s.jsx)("p",{children:"A simple web API which also includes the build infrastructure"}),(0,s.jsx)(n.p,{children:"Navigate to the folder where you wish to create a new project in."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Run the command to create the project"',children:"dotnet new stacks-webapi -n Company.Project -do YourDomain --cloudProvider Azure\n"})}),(0,s.jsxs)(n.p,{children:["The above command will create a folder and a repository called ",(0,s.jsx)(n.code,{children:"Company.Project"})," with DevOps build pipelines ready for Azure DevOps."]}),(0,s.jsx)(n.h3,{id:"stacks-cqrs-app",children:"stacks-cqrs-app"}),(0,s.jsx)("p",{children:"The full template containing API, functions, background worker and build infrastructure"}),(0,s.jsx)(n.p,{children:"Navigate to the folder where you wish to create a new project on."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Run the command to create the project"',children:"dotnet new stacks-cqrs-app -n Company.Project -do YourDomain -e MessagingProvider -db DatabaseOption --cloudProvider CloudProvider\n"})}),(0,s.jsxs)(n.p,{children:["The above command will create a folder and a repository called ",(0,s.jsx)(n.code,{children:"Company.Project"}),"."]}),(0,s.jsx)(n.h3,{id:"stacks-az-func-cosmosdb-worker",children:"stacks-az-func-cosmosdb-worker"}),(0,s.jsx)("p",{children:"A template for a Azure Function containing a CosmosDb change feed trigger. Upon a CosmosDb event, the worker reads it and publishes a message to Service Bus."}),(0,s.jsx)(n.p,{children:"Navigate to the folder where you wish to create a new project on."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Run the command to create the function"',children:"dotnet new stacks-az-func-cosmosdb-worker -n Company.Project\n"})}),(0,s.jsx)(n.h3,{id:"stacks-az-func-asb-listener",children:"stacks-az-func-asb-listener"}),(0,s.jsx)("p",{children:"A template containing an Azure Function project with a single function that has a Service Bus subscription trigger. The function receives the message and deserializes it."}),(0,s.jsx)(n.p,{children:"Navigate to the folder where you wish to create a new project on."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Run the command to create the function"',children:"dotnet new stacks-az-func-asb-listener -n Company.Project -do Menu\n"})}),(0,s.jsx)(n.h3,{id:"stacks-asb-worker",children:"stacks-asb-worker"}),(0,s.jsx)("p",{children:"A template contains a background worker application that reads and handles messages from a ServiceBus subscription."}),(0,s.jsx)(n.p,{children:"Navigate to the folder where you wish to create a new project on."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Run the command to create the function"',children:"dotnet new stacks-asb-worker -n Company.Project -do Menu\n"})}),(0,s.jsx)(n.admonition,{title:"Template parameter details (some templates may offer only a subset of the arguments shown)",type:"note",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-n|--name"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Sets the project name"}),"\n",(0,s.jsx)(n.li,{children:"Omitting it will result in the project name being the same as the folder where the command has been ran from"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-do|--domain"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Sets the name of the aggregate root object. It is also the name of the collection within CosmosDB instance."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-db|--database"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configures which database provider to be used"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-e|--eventPublisher"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Configures the messaging service. Available services are:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ServiceBus"}),"\n",(0,s.jsx)(n.li,{children:"EventHub"}),"\n",(0,s.jsx)(n.li,{children:"AwsSns"}),"\n",(0,s.jsx)(n.li,{children:"None"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["-e",":fw","|--enableFunctionWorker"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configures the messaging service"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["-e",":fl","|--enableFunctionListener"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configures the messaging service"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["-e",":bw","|--enableBackgroundWorker"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configures the messaging service"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-o|--output"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Sets the path to where the project is added"}),"\n",(0,s.jsx)(n.li,{children:"Omitting the parameter will result in the creation of a new folder"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"--cloudProvider"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configures which cloud provider to be used"}),"\n"]}),"\n"]}),"\n"]})}),(0,s.jsx)(n.p,{children:"Once installed you can either, create a new project or add CQRS to an existing project."}),(0,s.jsx)(n.h3,{id:"uninstalling-the-templates",children:"Uninstalling the templates"}),(0,s.jsx)(n.p,{children:"If you want to remove the templates from your system you'll have to uninstall the Nuget package."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="To uninstall package execute the following command"',children:"dotnet new uninstall Ensono.Stacks.Templates\n"})})]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Creating a new project"}),(0,s.jsx)(n.h3,{id:"create-a-new-project",children:"Create a new project"}),(0,s.jsx)(n.p,{children:"Navigate to the folder where you wish to create a new project in. Then run the following command."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Run the command to create the project"',children:"dotnet new stacks-cqrs-app -n Company.Project -do YourDomain --cloudProvider Azure\n"})}),(0,s.jsxs)(n.p,{children:["The above command will create a folder and a repository called ",(0,s.jsx)(n.code,{children:"Company.Project"})," with DevOps build pipelines ready for Azure DevOps."]}),(0,s.jsx)(n.h3,{id:"setting-the-database-option",children:"Setting the database option"}),(0,s.jsx)(n.p,{children:"To create a project with CosmosDb as the database you can use the following command"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Run the command to create the project with database"',children:"dotnet new stacks-cqrs-app -n Company.Project -do YourDomain -db CosmosDb\n"})}),(0,s.jsx)(n.admonition,{title:"Template parameter details",type:"note",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-n|--name"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Sets the project name"}),"\n",(0,s.jsx)(n.li,{children:"Omitting it will result in the project name being the same as the folder where the command has been ran from"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-do|--domain"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Sets the name of the aggregate root object. It is also the name of the collection within CosmosDB instance."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-db|--database"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configures which database provider to be used."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-o|--output"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Sets the path to where the project is added"}),"\n",(0,s.jsx)(n.li,{children:"Omitting the parameter will result in the creation of a new folder"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"--cloudProvider"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configures which cloud provider to be used"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-cicd|--cicdProvider"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configures which cicd provider templates to be used"}),"\n"]}),"\n"]}),"\n"]})}),(0,s.jsx)(n.h3,{id:"setting-event-publishing-options",children:"Setting event publishing options"})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var s=t(6540);const r={},a=s.createContext(r);function i(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);