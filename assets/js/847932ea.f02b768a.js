"use strict";(self.webpackChunkstacks=self.webpackChunkstacks||[]).push([[5549],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return m}});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=p(a),f=n,m=d["".concat(s,".").concat(f)]||d[f]||u[f]||i;return a?r.createElement(m,l(l({ref:t},c),{},{components:a})):r.createElement(m,l({ref:t},c))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=f;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[d]="string"==typeof e?e:n,l[1]=o;for(var p=2;p<i;p++)l[p]=a[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}f.displayName="MDXCreateElement"},200:function(e,t,a){a.r(t),a.d(t,{contentTitle:function(){return s},default:function(){return f},frontMatter:function(){return o},metadata:function(){return p},toc:function(){return c}});var r=a(7462),n=a(3366),i=(a(7294),a(3905)),l=["components"],o={id:"silver_data_azure",title:"Silver Pipeline",sidebar_label:"Silver Pipeline",hide_title:!1,hide_table_of_contents:!1,description:"Silver processing pipeline",keywords:["silver","adf","etl","databricks"]},s=void 0,p={unversionedId:"workloads/azure/data/etl_pipelines/silver_data_azure",id:"workloads/azure/data/etl_pipelines/silver_data_azure",isDocsHomePage:!1,title:"Silver Pipeline",description:"Silver processing pipeline",source:"@site/docs/workloads/azure/data/etl_pipelines/silver_data_azure.md",sourceDirName:"workloads/azure/data/etl_pipelines",slug:"/workloads/azure/data/etl_pipelines/silver_data_azure",permalink:"/docs/workloads/azure/data/etl_pipelines/silver_data_azure",tags:[],version:"current",frontMatter:{id:"silver_data_azure",title:"Silver Pipeline",sidebar_label:"Silver Pipeline",hide_title:!1,hide_table_of_contents:!1,description:"Silver processing pipeline",keywords:["silver","adf","etl","databricks"]},sidebar:"docs",previous:{title:"Data Ingestion",permalink:"/docs/workloads/azure/data/etl_pipelines/ingest_data_azure"},next:{title:"Data Quality",permalink:"/docs/workloads/azure/data/etl_pipelines/data_quality_azure"}},c=[{value:"Pipeline overview",id:"pipeline-overview",children:[],level:2},{value:"Data Factory pipeline design",id:"data-factory-pipeline-design",children:[],level:2}],d={toc:c},u="wrapper";function f(e){var t=e.components,o=(0,n.Z)(e,l);return(0,i.kt)(u,(0,r.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The Stacks data platform contains an example 'Silver' data processing workload, performing Bronze to Silver layer\ntransformations. It accepts raw data of various formats (e.g. CSV, Parquet, JSON, Delta) as an input and converts it\ninto a more structured Delta format."),(0,i.kt)("p",null,"The transformation from Bronze to Silver is crucial for filtering out the noise from raw data. It ensures that analysts\nand data scientists work with a consistent, clean, and dependable dataset that can be trusted for downstream analytics."),(0,i.kt)("p",null,"As data moves to the Silver layer, it undergoes a series of transformations:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Conformance"),": At this stage, inconsistencies in data representation are ironed out. For instance, disparate date\nformats, value representations, or units from different data sources are standardized to a common format."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Cleansing"),": Data errors, missing values, or duplicates, are identified and rectified. This ensures that downstream\nanalytics are based on clean and reliable data."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enrichment"),": Data from various sources might be combined or enriched with additional information to provide a more\nholistic dataset."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Structuring"),": While the Bronze layer often holds semi-structured or unstructured data, the Silver layer typically\nstructures this data into a more query-friendly format, enabling efficient data analysis."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Data Quality Checks"),": This stage ensures that the data conforms to predefined quality standards, making sure it's\nreliable and accurate.")),(0,i.kt)("p",null,"Azure Data Lake Storage (ADLS Gen2) has been chosen as both the source and destination system for our data processing."),(0,i.kt)("h2",{id:"pipeline-overview"},"Pipeline overview"),(0,i.kt)("p",null,"The diagram below gives an overview of the Silver pipeline design."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"ADF_SilverPipelineDesign.png",src:a(2400).Z})),(0,i.kt)("p",null,"Silver processing is executed as Python Databricks job, with repeatable data transformation processes packaged within\nour ",(0,i.kt)("a",{parentName:"p",href:"/docs/workloads/common/data/pysparkle/pysparkle_quickstart"},"PySparkle")," library."),(0,i.kt)("h2",{id:"data-factory-pipeline-design"},"Data Factory pipeline design"),(0,i.kt)("p",null,"The pipelines folder is structured as follows:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"ADF_SilverPipelinesList.png",src:a(7271).Z})),(0,i.kt)("p",null,"Similar to other ETL pipelines, Silver can optionally include a Data Quality validations step.\nDepending on your particular needs, you can deploy each of the pipelines with or without a Data\nQuality step. More on Data Quality can be found ",(0,i.kt)("a",{parentName:"p",href:"/docs/workloads/azure/data/etl_pipelines/data_quality_azure"},"here"),"."),(0,i.kt)("p",null,"In ADF the base Silver pipeline is as simple as this:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"ADF_Silver.png",src:a(6362).Z})),(0,i.kt)("p",null,"It contains just one step - Python Databricks, configured to run a simple script (",(0,i.kt)("inlineCode",{parentName:"p"},"silver.py"),"),\nwhich is an entrypoint to the PySparkle library. PySparkle is attached to a cluster by pointing\nto its location in DBFS."),(0,i.kt)("p",null,"Contents of ",(0,i.kt)("inlineCode",{parentName:"p"},"dbfs:/FileStore/scripts/silver.py"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'from pysparkle.pysparkle_cli import cli\n\ndef call_pysparkle_entrypoint():\n    cli(["silver", "--dataset-name", "movies_dataset"], standalone_mode=False)\n\nif __name__ == "__main__":\n    call_pysparkle_entrypoint()\n')))}f.isMDXComponent=!0},2400:function(e,t,a){t.Z=a.p+"assets/images/ADF_SilverPipelineDesign-e3fed23d2347cffafe54a62acf36bd3d.png"},7271:function(e,t,a){t.Z=a.p+"assets/images/ADF_SilverPipelinesList-ad113e315740f36f95fedaf0df540032.png"},6362:function(e,t,a){t.Z=a.p+"assets/images/ADF_silver-d3adbe5bbf16fc6cad97d4081dd6eb10.png"}}]);