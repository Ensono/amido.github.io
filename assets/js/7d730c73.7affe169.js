"use strict";(self.webpackChunkstacks=self.webpackChunkstacks||[]).push([[721,6076,1706,1447,8367],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=a.createContext({}),p=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(o.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(n),g=i,m=c["".concat(o,".").concat(g)]||c[g]||d[g]||r;return n?a.createElement(m,l(l({ref:t},u),{},{components:n})):a.createElement(m,l({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=g;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[c]="string"==typeof e?e:i,l[1]=s;for(var p=2;p<r;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},8215:function(e,t,n){var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,i=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:i},t)}},4426:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(7462),i=n(7294),r=n(2389),l=n(9443);var s=function(){var e=(0,i.useContext)(l.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},o=n(78),p=n(6010),u="tabItem_vU9c";function c(e){var t,n,a,r=e.lazy,l=e.block,c=e.defaultValue,d=e.values,g=e.groupId,m=e.className,h=i.Children.map(e.children,(function(e){if((0,i.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),k=null!=d?d:h.map((function(e){var t=e.props;return{value:t.value,label:t.label}})),y=(0,o.lx)(k,(function(e,t){return e.value===t.value}));if(y.length>0)throw new Error('Docusaurus error: Duplicate values "'+y.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var v=null===c?c:null!=(t=null!=c?c:null==(n=h.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(a=h[0])?void 0:a.props.value;if(null!==v&&!k.some((function(e){return e.value===v})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+k.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var f=s(),w=f.tabGroupChoices,N=f.setTabGroupChoices,x=(0,i.useState)(v),b=x[0],T=x[1],_=[],j=(0,o.o5)().blockElementScrollPositionUntilNextRender;if(null!=g){var E=w[g];null!=E&&E!==b&&k.some((function(e){return e.value===E}))&&T(E)}var C=function(e){var t=e.currentTarget,n=_.indexOf(t),a=k[n].value;a!==b&&(j(t),T(a),null!=g&&N(g,a))},O=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=_.indexOf(e.currentTarget)+1;n=_[a]||_[0];break;case"ArrowLeft":var i=_.indexOf(e.currentTarget)-1;n=_[i]||_[_.length-1]}null==(t=n)||t.focus()};return i.createElement("div",{className:"tabs-container"},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,p.Z)("tabs",{"tabs--block":l},m)},k.map((function(e){var t=e.value,n=e.label;return i.createElement("li",{role:"tab",tabIndex:b===t?0:-1,"aria-selected":b===t,className:(0,p.Z)("tabs__item",u,{"tabs__item--active":b===t}),key:t,ref:function(e){return _.push(e)},onKeyDown:O,onFocus:C,onClick:C},null!=n?n:t)}))),r?(0,i.cloneElement)(h.filter((function(e){return e.props.value===b}))[0],{className:"margin-vert--md"}):i.createElement("div",{className:"margin-vert--md"},h.map((function(e,t){return(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==b})}))))}function d(e){var t=(0,r.Z)();return i.createElement(c,(0,a.Z)({key:String(t)},e))}},9443:function(e,t,n){var a=(0,n(7294).createContext)(void 0);t.Z=a},1545:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return p},toc:function(){return u},default:function(){return d}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),l=["components"],s={},o=void 0,p={unversionedId:"nx/playwright/accessibility",id:"nx/playwright/accessibility",isDocsHomePage:!1,title:"accessibility",description:"@ensono-stacks/playwright:accessibility",source:"@site/docs/nx/playwright/accessibility.md",sourceDirName:"nx/playwright",slug:"/nx/playwright/accessibility",permalink:"/docs/nx/playwright/accessibility",tags:[],version:"current",frontMatter:{}},u=[{value:"@ensono-stacks/playwright:accessibility",id:"ensono-stacksplaywrightaccessibility",children:[],level:3},{value:"Usage",id:"usage",children:[{value:"Command line arguments",id:"command-line-arguments",children:[],level:3},{value:"Generator Output",id:"generator-output",children:[],level:3}],level:2}],c={toc:u};function d(e){var t=e.components,n=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"ensono-stacksplaywrightaccessibility"},"@ensono-stacks/playwright:accessibility"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Adds axe accessibility tests to your test project"),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},"accessibility")," generator installs ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/dequelabs/axe-core-npm/blob/develop/packages/playwright/README.md"},(0,r.kt)("inlineCode",{parentName:"a"},"@axe-core/playwright"))," and configures an example accessibility test"),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"nx g @ensono-stacks/playwright:accessibility\n")),(0,r.kt)("h3",{id:"command-line-arguments"},"Command line arguments"),(0,r.kt)("p",null,"The following command line arguments are available:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Option"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"--project -p"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the test project to add accessibility tests to"),(0,r.kt)("td",{parentName:"tr",align:null},"string")))),(0,r.kt)("h3",{id:"generator-output"},"Generator Output"),(0,r.kt)("p",null,"Scaffolding accessibility testing will add two dependencies to the ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json"),":"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/dequelabs/axe-core-npm/blob/develop/packages/playwright/README.md"},(0,r.kt)("inlineCode",{parentName:"a"},"@axe-core/playwright"))," - The accessibility test engine"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/axe-result-pretty-print"},(0,r.kt)("inlineCode",{parentName:"a"},"axe-result-pretty-print"))," - Result formatter")),(0,r.kt)("p",null,"Additionally, an example accessibility test will be generated, showcasing how to utilise both ",(0,r.kt)("em",{parentName:"p"},"axe")," and ",(0,r.kt)("em",{parentName:"p"},"axe-result-pretty-print")," to scan your application for accessibility violations:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Generated files"',title:'"Generated','files"':!0},".\n\u251c\u2500\u2500 apps\n\u2502   \u251c\u2500\u2500 <app-name>-e2e\n\u2502   \u2502   \u251c\u2500\u2500 src\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 axe-accessibility.spec.ts #Example accessibility test using playwright\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n")),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Visit the ",(0,r.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/playwright_accessibility_testing"},(0,r.kt)("inlineCode",{parentName:"a"},"Accessibility Testing"))," documentation for further details!")))))}d.isMDXComponent=!0},3012:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return p},toc:function(){return u},default:function(){return d}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),l=["components"],s={},o=void 0,p={unversionedId:"nx/playwright/executor",id:"nx/playwright/executor",isDocsHomePage:!1,title:"executor",description:"@mands/nx-playwright:playwright-executor",source:"@site/docs/nx/playwright/executor.md",sourceDirName:"nx/playwright",slug:"/nx/playwright/executor",permalink:"/docs/nx/playwright/executor",tags:[],version:"current",frontMatter:{}},u=[{value:"@mands/nx-playwright:playwright-executor",id:"mandsnx-playwrightplaywright-executor",children:[],level:3},{value:"Usage",id:"usage",children:[{value:"Command line arguments",id:"command-line-arguments",children:[],level:3}],level:2}],c={toc:u};function d(e){var t=e.components,n=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"mandsnx-playwrightplaywright-executor"},"@mands/nx-playwright:playwright-executor"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Enables you to execute your playwright tests"),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},"playwright-executor")," executor is a third party executor provided by @mands and enables you to run your e2e tests. "),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("p",null,"The following command will run all of the playwright tests within your e2e test folder, as part of the executor it will automatically spin up a web server on local host for the corresponding application."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"nx e2e <app-name>-e2e\n")),(0,r.kt)("h3",{id:"command-line-arguments"},"Command line arguments"),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/marksandspencer/nx-plugins/tree/main/packages/nx-playwright#execution-flags"},"@mands/nx-playwright")," plugin page for a list of up to date command line arguments")))}d.isMDXComponent=!0},5954:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return p},toc:function(){return u},default:function(){return d}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),l=["components"],s={},o=void 0,p={unversionedId:"nx/playwright/init",id:"nx/playwright/init",isDocsHomePage:!1,title:"init",description:"@ensono-stacks/playwright:init",source:"@site/docs/nx/playwright/init.md",sourceDirName:"nx/playwright",slug:"/nx/playwright/init",permalink:"/docs/nx/playwright/init",tags:[],version:"current",frontMatter:{}},u=[{value:"@ensono-stacks/playwright:init",id:"ensono-stacksplaywrightinit",children:[],level:3},{value:"Usage",id:"usage",children:[{value:"Command line arguments",id:"command-line-arguments",children:[],level:3},{value:"Generator Output",id:"generator-output",children:[{value:"Default Output",id:"default-output",children:[],level:4}],level:3}],level:2}],c={toc:u};function d(e){var t=e.components,n=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"ensono-stacksplaywrightinit"},"@ensono-stacks/playwright:init"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Create a playwright test project for your chosen application"),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},"init")," generator creates a playwright project for the application you choose. Additionally it initialises your playwright project with additional stacks configuration and adds playwright tests to your pipeline if present."),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"nx g @ensono-stacks/playwright:init\n")),(0,r.kt)("p",null,"Upon calling the ",(0,r.kt)("em",{parentName:"p"},"init")," generator you will be presented with the following question:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"What app would you like to generate a test project for?",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"The name of the existing application to generate a test project for (named <app-name",">","-e2e)")))),(0,r.kt)("h3",{id:"command-line-arguments"},"Command line arguments"),(0,r.kt)("p",null,"The following command line arguments are available:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Option"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"--project"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the application to generate a test project for"),(0,r.kt)("td",{parentName:"tr",align:null},"string")))),(0,r.kt)("h3",{id:"generator-output"},"Generator Output"),(0,r.kt)("h4",{id:"default-output"},"Default Output"),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},"init")," generator will create a new test project for your chosen application containing an example test and predefined configuration for the monorepo and the individual test projects.\nBy default the ",(0,r.kt)("em",{parentName:"p"},"init")," generator will configure both a baseline playwright configuration and an individual project base playwright configuration."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Generated files"',title:'"Generated','files"':!0},".\n\u251c\u2500\u2500 apps\n\u2502   \u251c\u2500\u2500 <app-name>-e2e\n\u2502   \u2502   \u251c\u2500\u2500 src\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 example.spec.ts #Example tests using playwright\n\u2502   \u2502   \u251c\u2500\u2500 playwright.config.ts #Example playwright configuration catering for multiple browsers and devices\n\u2502   \u2502   \u251c\u2500\u2500 project.json #Configuration for the project, including various NX targets\n\u2502   \u2502   \u251c\u2500\u2500 tsconfig.e2e.json #E2E typscript config file\n\u2502   \u2502   \u251c\u2500\u2500 tsconfig.json #typscript config file\n\u2502   \u2502   \u251c\u2500\u2500 .eslintrc.json #Linting configuration for the e2e project\n\u2514\u2500\u2500 playwright.config.base.ts\n")),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Visit the ",(0,r.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/testing_with_playwright"},(0,r.kt)("inlineCode",{parentName:"a"},"Testing with Playwright"))," documentation for further details!")))))}d.isMDXComponent=!0},2458:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return g},contentTitle:function(){return m},metadata:function(){return h},toc:function(){return k},default:function(){return v}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),l=n(5954),s=n(1545),o=n(5655),p=n(3012),u=n(4426),c=n(8215),d=["components"],g={id:"ensono-stacks-playwright",title:"@ensono-stacks/playwright",sidebar_label:"@ensono-stacks/playwright",description:"Using the playwright with stacks!",keywords:["Nx","monorepo","stacks","ensono","playwright","generator","executor"]},m=void 0,h={unversionedId:"nx/playwright/ensono-stacks-playwright",id:"nx/playwright/ensono-stacks-playwright",isDocsHomePage:!1,title:"@ensono-stacks/playwright",description:"Using the playwright with stacks!",source:"@site/docs/nx/playwright/plugin-information.md",sourceDirName:"nx/playwright",slug:"/nx/playwright/ensono-stacks-playwright",permalink:"/docs/nx/playwright/ensono-stacks-playwright",tags:[],version:"current",frontMatter:{id:"ensono-stacks-playwright",title:"@ensono-stacks/playwright",sidebar_label:"@ensono-stacks/playwright",description:"Using the playwright with stacks!",keywords:["Nx","monorepo","stacks","ensono","playwright","generator","executor"]},sidebar:"docs",previous:{title:"@ensono-stacks/rest-client",permalink:"/docs/nx/rest-client/ensono-stacks-rest-client"},next:{title:"@ensono-stacks/logger",permalink:"/docs/nx/logger/ensono-stacks-logger"}},k=[{value:"Setting up @ensono-stacks/playwright",id:"setting-up-ensono-stacksplaywright",children:[],level:2},{value:"Executors and Generators",id:"executors-and-generators",children:[{value:"Generators",id:"generators",children:[],level:3},{value:"Executors",id:"executors",children:[],level:3}],level:2}],y={toc:k};function v(e){var t=e.components,n=(0,i.Z)(e,d);return(0,r.kt)("wrapper",(0,a.Z)({},y,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Using the ",(0,r.kt)("inlineCode",{parentName:"p"},"@ensono-stacks/playwright")," plugin can help you get started with testing using playwright, with it's comprehensive feature set this plugin helps you capitalise on those features by accelerating your setup process and providing examples to get you started. "),(0,r.kt)("p",null,"Additionally, if infrastructure has been generated through the ",(0,r.kt)("a",{parentName:"p",href:"/docs/nx/next/ensono-stacks-next#ensono-stacksnextinfrastructure"},(0,r.kt)("inlineCode",{parentName:"a"},"@ensono-stacks/next:infrastructure"))," then Playwright E2E tests will be added to your pipelines!"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Visit the ",(0,r.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/frontend_testing_in_nx"},"Frontend Testing in an Nx monorepo")," and ",(0,r.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/testing_with_playwright"},"Testing with Playwright")," user guides for more information!"))),(0,r.kt)("h2",{id:"setting-up-ensono-stacksplaywright"},"Setting up @ensono-stacks/playwright"),(0,r.kt)("p",null,"Install the ",(0,r.kt)("inlineCode",{parentName:"p"},"@ensono-stacks/playwright")," plugin with the following command:"),(0,r.kt)(u.Z,{mdxType:"Tabs"},(0,r.kt)(c.Z,{value:"npm",label:"npm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install --save-dev @ensono-stacks/playwright@latest\n"))),(0,r.kt)(c.Z,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add --dev @ensono-stacks/playwright@latest\n")))),(0,r.kt)("h2",{id:"executors-and-generators"},"Executors and Generators"),(0,r.kt)("p",null,"To see a list of the plugin capabilities run the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"nx list @ensono-stacks/playwright\n")),(0,r.kt)("p",null,"View additional information about a plugin capability through the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"nx g @ensono-stacks/playwright:[generator-executor-name] --help\n")),(0,r.kt)("h3",{id:"generators"},"Generators"),(0,r.kt)(l.default,{mdxType:"InitGenerator"}),(0,r.kt)(s.default,{mdxType:"AccessibilityGenerator"}),(0,r.kt)(o.default,{mdxType:"Visual"}),(0,r.kt)("h3",{id:"executors"},"Executors"),(0,r.kt)(p.default,{mdxType:"Executor"}))}v.isMDXComponent=!0},5655:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return p},toc:function(){return u},default:function(){return d}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),l=["components"],s={},o=void 0,p={unversionedId:"nx/playwright/visualRegression",id:"nx/playwright/visualRegression",isDocsHomePage:!1,title:"visualRegression",description:"@ensono-stacks/playwright:visualRegression",source:"@site/docs/nx/playwright/visualRegression.md",sourceDirName:"nx/playwright",slug:"/nx/playwright/visualRegression",permalink:"/docs/nx/playwright/visualRegression",tags:[],version:"current",frontMatter:{}},u=[{value:"@ensono-stacks/playwright:visualRegression",id:"ensono-stacksplaywrightvisualregression",children:[],level:3},{value:"Usage",id:"usage",children:[{value:"Command line arguments",id:"command-line-arguments",children:[],level:3},{value:"Generator Output",id:"generator-output",children:[{value:"Playwright with native visual comparisons",id:"playwright-with-native-visual-comparisons",children:[],level:4},{value:"Playwright with Applitools Eyes",id:"playwright-with-applitools-eyes",children:[],level:4}],level:3}],level:2}],c={toc:u};function d(e){var t=e.components,n=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"ensono-stacksplaywrightvisualregression"},"@ensono-stacks/playwright:visualRegression"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Adds native or cloud based visual regression to your test suite"),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},"visualRegression")," generator provides you with the option to scaffold visual regression tests and configuration through a cloud based provider or Playwrights native visual comparison API."),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"nx g @ensono-stacks/playwright:visualRegression\n")),(0,r.kt)("p",null,"Upon calling the ",(0,r.kt)("em",{parentName:"p"},"visualRegression")," generator you will be presented with a number of options:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"What type of visual regression tests would you like to use?",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"native: Generate visual regression tests using Playwrights native ",(0,r.kt)("a",{parentName:"li",href:"https://playwright.dev/docs/test-snapshots"},"visual comparison api")),(0,r.kt)("li",{parentName:"ul"},"applitools: Generate visual regression tests using the ",(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/@applitools/eyes-playwright"},(0,r.kt)("inlineCode",{parentName:"a"},"@applitools/eyes-playwright"))," plugin and scaffold an example visual regression test batch")))),(0,r.kt)("h3",{id:"command-line-arguments"},"Command line arguments"),(0,r.kt)("p",null,"The following command line arguments are available:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Option"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Accepted Values"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"--project"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the existing playwright test app to enhance"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"--visualRegression, -v"),(0,r.kt)("td",{parentName:"tr",align:null},"Method used to conduct visual testing"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},'[choices: "native", "applitools"]'),(0,r.kt)("td",{parentName:"tr",align:null},"none")))),(0,r.kt)("h3",{id:"generator-output"},"Generator Output"),(0,r.kt)("h4",{id:"playwright-with-native-visual-comparisons"},"Playwright with native visual comparisons"),(0,r.kt)("p",null,"Opting to scaffold ",(0,r.kt)("strong",{parentName:"p"},"native")," visual testing will make a number of amendments to your test projects configuration:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"../../testing/testing_in_nx/playwright_visual_testing#snapshot-configuration"},"playwright.config.ts snapshot configuration"),": Configuration for your visual tests"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"../../testing/testing_in_nx/playwright_visual_testing#sample-tests"},"playwright-visual-regression.spec.ts"),": Sample test showcasing how to perform visual testing using playwrights native ",(0,r.kt)("a",{parentName:"li",href:"https://playwright.dev/docs/test-snapshots"},"visual comparison api"),"."),(0,r.kt)("li",{parentName:"ol"},"project.json: Additional task set up to enable you to run your visual regression tests using the playwright:jammy container")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Generated files"',title:'"Generated','files"':!0},".\n\u251c\u2500\u2500 apps\n\u2502   \u251c\u2500\u2500 <app-name>-e2e\n\u2502   \u2502   \u251c\u2500\u2500 src\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 playwright-visual-regression.spec.ts #Example visual test using playwright\n\u251c\u2500\u2500 build\n\u2502   \u251c\u2500\u2500 azDevOps\n\u2502   \u2502   \u251c\u2500\u2500 azuredevops-updatesnapshots.yaml #Pipeline to capture and update baseline images within the CI\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n")),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Visit the ",(0,r.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/playwright_visual_testing"},(0,r.kt)("inlineCode",{parentName:"a"},"Playwright with visual comparisons"))," documentation for further details!"))),(0,r.kt)("h4",{id:"playwright-with-applitools-eyes"},"Playwright with Applitools Eyes"),(0,r.kt)("p",null,"Opting to scaffold visual testing with ",(0,r.kt)("strong",{parentName:"p"},"applitools")," will make a number of amendments to your test projects configuration:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/@applitools/eyes-playwright"},"@applitools/eyes-playwright"),": Dependency added to ",(0,r.kt)("inlineCode",{parentName:"li"},"package.json")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"/docs/testing/testing_in_nx/playwright_visual_testing_applitools_eyes#applitools-eyes-with-playwright"},"playwright.config.ts project configuration"),": Standalone project configuration to isolate visual tests with Applitools Eyes"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"/docs/testing/testing_in_nx/playwright_visual_testing_applitools_eyes#sample-tests"},"applitools-eyes-grid.spec.ts"),": Sample test showcasing how to perform visual testing using the Applitools Eyes Grid.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Generated files"',title:'"Generated','files"':!0},".\n\u251c\u2500\u2500 apps\n\u2502   \u251c\u2500\u2500 <app-name>-e2e\n\u2502   \u2502   \u251c\u2500\u2500 src\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 applitools-eyes-grid.spec.ts #Example visual test using playwright\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n")),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Visit the ",(0,r.kt)("a",{parentName:"p",href:"/docs/testing/testing_in_nx/playwright_visual_testing_applitools_eyes"},(0,r.kt)("inlineCode",{parentName:"a"},"Playwright with Applitools Eyes"))," documentation for further details!")))))}d.isMDXComponent=!0}}]);