"use strict";(self.webpackChunkstacks=self.webpackChunkstacks||[]).push([[276],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return k}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=u(n),m=a,k=p["".concat(s,".").concat(m)]||p[m]||d[m]||o;return n?r.createElement(k,i(i({ref:t},c),{},{components:n})):r.createElement(k,i({ref:t},c))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:a,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2366:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return c}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],l={id:"dev_quickstart_data_azure",title:"Development Quickstart",sidebar_label:"Development Quickstart",hide_title:!1,hide_table_of_contents:!1,description:"Quickstart for local development",keywords:["quickstart","development"]},s=void 0,u={unversionedId:"workloads/azure/data/getting_started/dev_quickstart_data_azure",id:"workloads/azure/data/getting_started/dev_quickstart_data_azure",isDocsHomePage:!1,title:"Development Quickstart",description:"Quickstart for local development",source:"@site/docs/workloads/azure/data/getting_started/dev_quickstart_data_azure.md",sourceDirName:"workloads/azure/data/getting_started",slug:"/workloads/azure/data/getting_started/dev_quickstart_data_azure",permalink:"/docs/workloads/azure/data/getting_started/dev_quickstart_data_azure",tags:[],version:"current",frontMatter:{id:"dev_quickstart_data_azure",title:"Development Quickstart",sidebar_label:"Development Quickstart",hide_title:!1,hide_table_of_contents:!1,description:"Quickstart for local development",keywords:["quickstart","development"]},sidebar:"docs",previous:{title:"Data Quality",permalink:"/docs/workloads/common/data/pysparkle/pysparkle_data_quality"},next:{title:"Infrastructure Deployment",permalink:"/docs/workloads/azure/data/getting_started/core_data_platform_deployment_azure"}},c=[{value:"Environment setup",id:"environment-setup",children:[],level:2},{value:"Running unit tests",id:"running-unit-tests",children:[{value:"Running E2E Tests",id:"running-e2e-tests",children:[],level:3},{value:"Troubleshooting",id:"troubleshooting",children:[],level:3}],level:2}],p={toc:c},d="wrapper";function m(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)(d,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Please execute the following steps to start working locally with Stacks Azure Data Platform:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},'Make sure you have installed the applications from the "Local development" section listed in\n',(0,o.kt)("a",{parentName:"li",href:"/docs/workloads/azure/data/requirements_data_azure"},"Requirements"),"."),(0,o.kt)("li",{parentName:"ol"},"Ensure that Poetry is added to your ",(0,o.kt)("inlineCode",{parentName:"li"},"$PATH"),".")),(0,o.kt)("h2",{id:"environment-setup"},"Environment setup"),(0,o.kt)("p",null,"A Makefile has been created to assist with setting up the development environment. Run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"make setup_dev_environment\n")),(0,o.kt)("h2",{id:"running-unit-tests"},"Running unit tests"),(0,o.kt)("p",null,"In order to run unit tests, run the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"make test\n")),(0,o.kt)("h3",{id:"running-e2e-tests"},"Running E2E Tests"),(0,o.kt)("p",null,"To run E2E tests locally, you will need to login through the Azure CLI:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"az login\n")),(0,o.kt)("p",null,"To set the correct subscription run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"az account set --subscription <name or id>\n")),(0,o.kt)("p",null,"To run the E2E tests, you need to set up the following environment variables:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"AZURE_SUBSCRIPTION_ID")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"AZURE_RESOURCE_GROUP_NAME")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"AZURE_DATA_FACTORY_NAME")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"AZURE_REGION_NAME")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"AZURE_STORAGE_ACCOUNT_NAME"))),(0,o.kt)("p",null,"To run the E2E tests run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"make test_e2e\n")),(0,o.kt)("h3",{id:"troubleshooting"},"Troubleshooting"),(0,o.kt)("p",null,"\u2139\ufe0f If you encounter PATH-related issues with Poetry when running the tests, we recommend installing Poetry using\n",(0,o.kt)("a",{parentName:"p",href:"https://python-poetry.org/docs/#installing-with-pipx"},"pipx")," rather than the official installer."),(0,o.kt)("p",null,"\u2139\ufe0f The E2E tests may require additional permissions as we are editing data in ADLS during the E2E tests. If the tests fail\nwhilst clearing up directories, ensure that you have ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#storage-blob-data-contributor"},"Storage Blob Data Contributor")," access applied to your Azure Active Directory subscription. You may also be required to configure the ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-network-security"},"firewall rules")," for the storage account to whitelist your IP address."))}m.isMDXComponent=!0}}]);