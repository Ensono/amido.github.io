"use strict";(self.webpackChunkstacks=self.webpackChunkstacks||[]).push([[276],{3905:function(e,t,r){r.d(t,{Zo:function(){return c},kt:function(){return k}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),u=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(r),m=a,k=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return r?n.createElement(k,i(i({ref:t},c),{},{components:r})):n.createElement(k,i({ref:t},c))}));function k(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:a,i[1]=l;for(var u=2;u<o;u++)i[u]=r[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},2366:function(e,t,r){r.r(t),r.d(t,{contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return c}});var n=r(7462),a=r(3366),o=(r(7294),r(3905)),i=["components"],l={id:"dev_quickstart_data_azure",title:"Local Development Quickstart",sidebar_label:"2. Local Development Quickstart",hide_title:!1,hide_table_of_contents:!1,description:"Quickstart for local development",keywords:["quickstart","development"]},s=void 0,u={unversionedId:"workloads/azure/data/getting_started/dev_quickstart_data_azure",id:"workloads/azure/data/getting_started/dev_quickstart_data_azure",isDocsHomePage:!1,title:"Local Development Quickstart",description:"Quickstart for local development",source:"@site/docs/workloads/azure/data/getting_started/dev_quickstart_data_azure.md",sourceDirName:"workloads/azure/data/getting_started",slug:"/workloads/azure/data/getting_started/dev_quickstart_data_azure",permalink:"/docs/workloads/azure/data/getting_started/dev_quickstart_data_azure",tags:[],version:"current",frontMatter:{id:"dev_quickstart_data_azure",title:"Local Development Quickstart",sidebar_label:"2. Local Development Quickstart",hide_title:!1,hide_table_of_contents:!1,description:"Quickstart for local development",keywords:["quickstart","development"]},sidebar:"docs",previous:{title:"1. Infrastructure Deployment",permalink:"/docs/workloads/azure/data/getting_started/core_data_platform_deployment_azure"},next:{title:"3. Shared Resources Deployment",permalink:"/docs/workloads/azure/data/getting_started/shared_resources_deployment_azure"}},c=[{value:"Environment setup",id:"environment-setup",children:[],level:2},{value:"Running unit tests",id:"running-unit-tests",children:[{value:"Running E2E Tests",id:"running-e2e-tests",children:[],level:3},{value:"Troubleshooting",id:"troubleshooting",children:[],level:3}],level:2},{value:"Next steps",id:"next-steps",children:[],level:2}],d={toc:c},p="wrapper";function m(e){var t=e.components,r=(0,a.Z)(e,i);return(0,o.kt)(p,(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This section covers the steps required to start developing a Stacks Azure Data Platform from your machine:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},'Make sure you have installed the applications from the "Local development" section listed in\n',(0,o.kt)("a",{parentName:"li",href:"/docs/workloads/azure/data/requirements_data_azure"},"Requirements"),"."),(0,o.kt)("li",{parentName:"ol"},"Ensure that Poetry is added to your ",(0,o.kt)("inlineCode",{parentName:"li"},"$PATH"),".")),(0,o.kt)("h2",{id:"environment-setup"},"Environment setup"),(0,o.kt)("p",null,"A Makefile has been created to assist with setting up the development environment. Run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"make setup_dev_environment\n")),(0,o.kt)("h2",{id:"running-unit-tests"},"Running unit tests"),(0,o.kt)("p",null,"In order to run unit tests, run the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"make test\n")),(0,o.kt)("h3",{id:"running-e2e-tests"},"Running E2E Tests"),(0,o.kt)("p",null,"To run E2E tests locally, you will need to login through the Azure CLI:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"az login\n")),(0,o.kt)("p",null,"To set the correct subscription run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"az account set --subscription <name or id>\n")),(0,o.kt)("p",null,"To run the E2E tests, you need to set up the following environment variables:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"AZURE_SUBSCRIPTION_ID")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"AZURE_RESOURCE_GROUP_NAME")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"AZURE_DATA_FACTORY_NAME")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"AZURE_REGION_NAME")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"AZURE_STORAGE_ACCOUNT_NAME"))),(0,o.kt)("p",null,"To run the E2E tests run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"make test_e2e\n")),(0,o.kt)("h3",{id:"troubleshooting"},"Troubleshooting"),(0,o.kt)("p",null,"\u2139\ufe0f If you encounter PATH-related issues with Poetry when running the tests, we recommend installing Poetry using\n",(0,o.kt)("a",{parentName:"p",href:"https://python-poetry.org/docs/#installing-with-pipx"},"pipx")," rather than the official installer."),(0,o.kt)("p",null,"\u2139\ufe0f The E2E tests may require additional permissions as we are editing data in ADLS during the E2E tests. If the tests fail\nwhilst clearing up directories, ensure that you have ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#storage-blob-data-contributor"},"Storage Blob Data Contributor")," access applied to your Azure Active Directory subscription. You may also be required to configure the ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-network-security"},"firewall rules")," for the storage account to whitelist your IP address."),(0,o.kt)("h2",{id:"next-steps"},"Next steps"),(0,o.kt)("p",null,"Once you setup your local development environment, you can continue with the Getting Started tutorial by ",(0,o.kt)("a",{parentName:"p",href:"/docs/workloads/azure/data/getting_started/shared_resources_deployment_azure"},"deploying the Shared Resources")))}m.isMDXComponent=!0}}]);