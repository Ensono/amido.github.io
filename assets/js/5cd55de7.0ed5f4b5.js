"use strict";(self.webpackChunkstacks=self.webpackChunkstacks||[]).push([[9946],{3905:function(t,e,r){r.d(e,{Zo:function(){return d},kt:function(){return k}});var a=r(7294);function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e){if(null==t)return{};var r,a,n=function(t,e){if(null==t)return{};var r,a,n={},l=Object.keys(t);for(a=0;a<l.length;a++)r=l[a],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var u=a.createContext({}),p=function(t){var e=a.useContext(u),r=e;return t&&(r="function"==typeof t?t(e):i(i({},e),t)),r},d=function(t){var e=p(t.components);return a.createElement(u.Provider,{value:e},t.children)},s="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var r=t.components,n=t.mdxType,l=t.originalType,u=t.parentName,d=o(t,["components","mdxType","originalType","parentName"]),s=p(r),c=n,k=s["".concat(u,".").concat(c)]||s[c]||m[c]||l;return r?a.createElement(k,i(i({ref:e},d),{},{components:r})):a.createElement(k,i({ref:e},d))}));function k(t,e){var r=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var l=r.length,i=new Array(l);i[0]=c;var o={};for(var u in e)hasOwnProperty.call(e,u)&&(o[u]=e[u]);o.originalType=t,o[s]="string"==typeof t?t:n,i[1]=o;for(var p=2;p<l;p++)i[p]=r[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}c.displayName="MDXCreateElement"},3046:function(t,e,r){r.r(e),r.d(e,{contentTitle:function(){return u},default:function(){return c},frontMatter:function(){return o},metadata:function(){return p},toc:function(){return d}});var a=r(7462),n=r(3366),l=(r(7294),r(3905)),i=["components"],o={id:"requirements_data_azure",title:"Requirements",sidebar_label:"Requirements",hide_title:!1,hide_table_of_contents:!1,description:"Requirements",keywords:["requirements"]},u=void 0,p={unversionedId:"workloads/azure/data/requirements_data_azure",id:"workloads/azure/data/requirements_data_azure",isDocsHomePage:!1,title:"Requirements",description:"Requirements",source:"@site/docs/workloads/azure/data/requirements_data_azure.md",sourceDirName:"workloads/azure/data",slug:"/workloads/azure/data/requirements_data_azure",permalink:"/docs/workloads/azure/data/requirements_data_azure",tags:[],version:"current",frontMatter:{id:"requirements_data_azure",title:"Requirements",sidebar_label:"Requirements",hide_title:!1,hide_table_of_contents:!1,description:"Requirements",keywords:["requirements"]},sidebar:"docs",previous:{title:"Repository Structure",permalink:"/docs/workloads/azure/data/architecture/repository_data_azure"},next:{title:"Infrastructure",permalink:"/docs/workloads/azure/data/infrastructure_data_azure"}},d=[{value:"Local development",id:"local-development",children:[],level:2},{value:"Azure",id:"azure",children:[{value:"Azure Pipelines variable groups",id:"azure-pipelines-variable-groups",children:[],level:3}],level:2}],s={toc:d},m="wrapper";function c(t){var e=t.components,r=(0,n.Z)(t,i);return(0,l.kt)(m,(0,a.Z)({},s,r,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"local-development"},"Local development"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Python 3.9+"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://python-poetry.org/docs/"},"Poetry")),(0,l.kt)("li",{parentName:"ul"},"(Windows users) A Linux distribution, e.g. ",(0,l.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/windows/wsl/install"},"WSL2")),(0,l.kt)("li",{parentName:"ul"},"Java 8/11/17 as in the ",(0,l.kt)("a",{parentName:"li",href:"https://spark.apache.org/docs/latest/"},"Spark documentation"))),(0,l.kt)("h2",{id:"azure"},"Azure"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Azure subscription \u2013 for deploying the solution into"),(0,l.kt)("li",{parentName:"ul"},"Azure service principal (Application) \u2013 needs permissions to deploy and configure all required\nresources into the target subscription"),(0,l.kt)("li",{parentName:"ul"},"Azure DevOps project \u2013 for running CI/CD pipelines and storing project variables")),(0,l.kt)("h3",{id:"azure-pipelines-variable-groups"},"Azure Pipelines variable groups"),(0,l.kt)("p",null,"Our blueprint solution expects the following ",(0,l.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/devops/pipelines/library/variable-groups?view=azure-devops&tabs=yaml"},"variable groups"),"\nto exist in your Azure DevOps project's Pipelines Library:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"amido-stacks-de-pipeline-",(0,l.kt)("em",{parentName:"li"},"env")),(0,l.kt)("li",{parentName:"ul"},"amido-stacks-euw-de-",(0,l.kt)("em",{parentName:"li"},"env"),"-network"),(0,l.kt)("li",{parentName:"ul"},"stacks-credentials-",(0,l.kt)("em",{parentName:"li"},"env"),"-kv")),(0,l.kt)("p",null,"Where ",(0,l.kt)("em",{parentName:"p"},"env")," can be either ",(0,l.kt)("inlineCode",{parentName:"p"},"nonprod")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"prod"),"."),(0,l.kt)("p",null,"Please refer to the following lists to identify the necessary variables for your project.\nThe specifics regarding when each variable is required have also been provided. Generally,\nthe variables fall into one of two categories based on the time of requirement: 'Project Start',\ndenoting variables required at the very outset of the project, and 'After Core Infrastructure\nDeployment', referring to variables required after the fundamental infrastructure has been deployed."),(0,l.kt)("p",null,"\u2139\ufe0f The variables under ",(0,l.kt)("inlineCode",{parentName:"p"},"amido-stacks-euw-de-env-network")," are only required if you want to provision the infrastructure within a private network."),(0,l.kt)("details",null,(0,l.kt)("summary",null,"amido-stacks-de-pipeline-env"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Variable Name"),(0,l.kt)("th",{parentName:"tr",align:null},"When Needed"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ADLS_DataLake_URL"),(0,l.kt)("td",{parentName:"tr",align:null},"After core infra"),(0,l.kt)("td",{parentName:"tr",align:null},"Azure Data Lake Storage Gen2 URL")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"blob_adls_storage"),(0,l.kt)("td",{parentName:"tr",align:null},"After core infra"),(0,l.kt)("td",{parentName:"tr",align:null},"Azure Data Lake Storage Gen2 name")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"blob_configStorage"),(0,l.kt)("td",{parentName:"tr",align:null},"After core infra"),(0,l.kt)("td",{parentName:"tr",align:null},"Blob storage name")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Blob_ConfigStore_serviceEndpoint"),(0,l.kt)("td",{parentName:"tr",align:null},"After core infra"),(0,l.kt)("td",{parentName:"tr",align:null},"Blob service URL")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"databricksHost"),(0,l.kt)("td",{parentName:"tr",align:null},"After core infra"),(0,l.kt)("td",{parentName:"tr",align:null},"Databricks URL")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"databricksWorkspaceResourceId"),(0,l.kt)("td",{parentName:"tr",align:null},"After core infra"),(0,l.kt)("td",{parentName:"tr",align:null},"Databricks workspace resource id")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"datafactoryname"),(0,l.kt)("td",{parentName:"tr",align:null},"After core infra"),(0,l.kt)("td",{parentName:"tr",align:null},"Azure Data Factory name")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"github_token"),(0,l.kt)("td",{parentName:"tr",align:null},"After core infra"),(0,l.kt)("td",{parentName:"tr",align:null},"Github token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"integration_runtime_name"),(0,l.kt)("td",{parentName:"tr",align:null},"After core infra"),(0,l.kt)("td",{parentName:"tr",align:null},"Azure Data Factory integration runtime name")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"KeyVault_baseURL"),(0,l.kt)("td",{parentName:"tr",align:null},"After core infra"),(0,l.kt)("td",{parentName:"tr",align:null},"Vault URI")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"keyvault_name"),(0,l.kt)("td",{parentName:"tr",align:null},"After core infra"),(0,l.kt)("td",{parentName:"tr",align:null},"Key Vault name")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"location"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Azure region")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"resource_group"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of the resource group")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"sql_connection"),(0,l.kt)("td",{parentName:"tr",align:null},"After core infra"),(0,l.kt)("td",{parentName:"tr",align:null},"Connection string to Azure SQL database"))))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"amido-stacks-euw-de-env-network"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Variable Name"),(0,l.kt)("th",{parentName:"tr",align:null},"When Needed"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"databricks_private_subnet_name"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of the private databricks subnet")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"databricks_public_subnet_name"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of the public databricks subnet")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pe_resource_group_name"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of the resource group to provision private VNet to")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pe_subnet_name"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of the subnet to provision private endpoints into")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pe_subnet_prefix"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Subnet CIDR, e.g. ",'["10.3.1.0/24"]')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pe_vnet_name"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Private VNet name")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"private_subnet_prefix"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Subnet CIDR, e.g. ",'["10.3.4.0/24"]')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"public_subnet_prefix"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Subnet CIDR, e.g. ",'["10.3.3.0/24"]'))))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"stacks-credentials-env-kv"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Variable Name"),(0,l.kt)("th",{parentName:"tr",align:null},"When Needed"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"azure-client-id"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Application ID for Azure Active Directory application")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"azure-client-secret"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Service principal secret")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"azure-subscription-id"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Subscription ID")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"azure-tenant-id"),(0,l.kt)("td",{parentName:"tr",align:null},"Project start"),(0,l.kt)("td",{parentName:"tr",align:null},"Directory ID for Azure Active Directory application"))))),(0,l.kt)("p",null,"Please see ",(0,l.kt)("a",{parentName:"p",href:"https://stacks.amido.com/docs/infrastructure/azure/pipelines/azure_devops"},"Azure DevOps Pipelines"),"\nfor general information on using Azure Pipelines in Stacks."))}c.isMDXComponent=!0}}]);